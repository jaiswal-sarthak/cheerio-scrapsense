[{"filePath":"C:\\Users\\DELL\\Desktop\\2343053\\ScrapeSense-main\\app\\(auth)\\signin\\page.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\DELL\\Desktop\\2343053\\ScrapeSense-main\\app\\api\\ai\\route.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\DELL\\Desktop\\2343053\\ScrapeSense-main\\app\\api\\analytics\\route.ts","messages":[],"suppressedMessages":[{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":21,"column":43,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":21,"endColumn":46,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[743,746],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[743,746],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}],"suppressions":[{"kind":"directive","justification":""}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":33,"column":54,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":33,"endColumn":57,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[1146,1149],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[1146,1149],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}],"suppressions":[{"kind":"directive","justification":""}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":57,"column":38,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":57,"endColumn":41,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[1790,1793],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[1790,1793],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}],"suppressions":[{"kind":"directive","justification":""}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":70,"column":37,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":70,"endColumn":40,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[2250,2253],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[2250,2253],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}],"suppressions":[{"kind":"directive","justification":""}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":70,"column":53,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":70,"endColumn":56,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[2266,2269],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[2266,2269],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}],"suppressions":[{"kind":"directive","justification":""}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":82,"column":43,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":82,"endColumn":46,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[2615,2618],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[2615,2618],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}],"suppressions":[{"kind":"directive","justification":""}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":87,"column":43,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":87,"endColumn":46,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[2777,2780],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[2777,2780],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}],"suppressions":[{"kind":"directive","justification":""}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":100,"column":29,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":100,"endColumn":32,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[3104,3107],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[3104,3107],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}],"suppressions":[{"kind":"directive","justification":""}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":100,"column":45,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":100,"endColumn":48,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[3120,3123],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[3120,3123],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}],"suppressions":[{"kind":"directive","justification":""}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":103,"column":24,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":103,"endColumn":27,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[3243,3246],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[3243,3246],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}],"suppressions":[{"kind":"directive","justification":""}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":107,"column":44,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":107,"endColumn":47,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[3417,3420],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[3417,3420],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}],"suppressions":[{"kind":"directive","justification":""}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":128,"column":35,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":128,"endColumn":38,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[3906,3909],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[3906,3909],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}],"suppressions":[{"kind":"directive","justification":""}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":128,"column":51,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":128,"endColumn":54,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[3922,3925],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[3922,3925],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}],"suppressions":[{"kind":"directive","justification":""}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":129,"column":21,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":129,"endColumn":24,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[3951,3954],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[3951,3954],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}],"suppressions":[{"kind":"directive","justification":""}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":133,"column":17,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":133,"endColumn":20,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[4014,4017],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[4014,4017],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}],"suppressions":[{"kind":"directive","justification":""}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":134,"column":15,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":134,"endColumn":18,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[4058,4061],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[4058,4061],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}],"suppressions":[{"kind":"directive","justification":""}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":134,"column":23,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":134,"endColumn":26,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[4066,4069],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[4066,4069],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}],"suppressions":[{"kind":"directive","justification":""}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":138,"column":21,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":138,"endColumn":24,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[4206,4209],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[4206,4209],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}],"suppressions":[{"kind":"directive","justification":""}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":149,"column":23,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":149,"endColumn":26,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[4531,4534],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[4531,4534],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}],"suppressions":[{"kind":"directive","justification":""}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":162,"column":39,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":162,"endColumn":42,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[4873,4876],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[4873,4876],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}],"suppressions":[{"kind":"directive","justification":""}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":165,"column":23,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":165,"endColumn":26,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[4942,4945],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[4942,4945],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}],"suppressions":[{"kind":"directive","justification":""}]}],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\DELL\\Desktop\\2343053\\ScrapeSense-main\\app\\api\\approve-task\\route.ts","messages":[{"ruleId":null,"message":"Unused eslint-disable directive (no problems were reported from '@typescript-eslint/no-explicit-any').","line":1,"column":1,"severity":1,"nodeType":null,"fix":{"range":[0,55],"text":" "}}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":1,"source":"/* eslint-disable @typescript-eslint/no-explicit-any */\r\nimport { NextResponse } from \"next/server\";\r\nimport { getServerSession } from \"next-auth\";\r\nimport { authOptions } from \"@/lib/auth/options\";\r\nimport { db } from \"@/lib/supabase/queries\";\r\n\r\n/**\r\n * POST /api/approve-task\r\n * Approve a pending task and move it to active tasks\r\n */\r\nexport async function POST(request: Request) {\r\n    try {\r\n        const session = await getServerSession(authOptions);\r\n        if (!session?.user) {\r\n            return NextResponse.json({ message: \"Unauthorized\" }, { status: 401 });\r\n        }\r\n\r\n        const body = await request.json();\r\n        const { pendingTaskId } = body;\r\n\r\n        if (!pendingTaskId) {\r\n            return NextResponse.json(\r\n                { message: \"Missing required field: pendingTaskId\" },\r\n                { status: 400 }\r\n            );\r\n        }\r\n\r\n        console.log(`[Approve Task] Approving pending task ${pendingTaskId}`);\r\n\r\n        // Approve the task (moves to instructions table and deletes from pending_tasks)\r\n        const instruction = await db.approvePendingTask(pendingTaskId, session.user.id);\r\n\r\n        console.log(`[Approve Task] Created instruction ${instruction.id}`);\r\n\r\n        return NextResponse.json({\r\n            success: true,\r\n            message: \"Task approved and activated\",\r\n            instructionId: instruction.id,\r\n        });\r\n    } catch (error) {\r\n        console.error(\"[Approve Task] Error:\", error);\r\n        return NextResponse.json(\r\n            {\r\n                message: \"Failed to approve task\",\r\n                error: error instanceof Error ? error.message : \"Unknown error\",\r\n            },\r\n            { status: 500 }\r\n        );\r\n    }\r\n}\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\DELL\\Desktop\\2343053\\ScrapeSense-main\\app\\api\\auth\\[...nextauth]\\route.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\DELL\\Desktop\\2343053\\ScrapeSense-main\\app\\api\\export\\route.ts","messages":[],"suppressedMessages":[{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":26,"column":36,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":26,"endColumn":39,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[914,917],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[914,917],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}],"suppressions":[{"kind":"directive","justification":""}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":32,"column":40,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":32,"endColumn":43,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[1056,1059],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[1056,1059],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}],"suppressions":[{"kind":"directive","justification":""}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":62,"column":26,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":62,"endColumn":29,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[1889,1892],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[1889,1892],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}],"suppressions":[{"kind":"directive","justification":""}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":73,"column":27,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":73,"endColumn":30,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[2141,2144],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[2141,2144],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}],"suppressions":[{"kind":"directive","justification":""}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":84,"column":26,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":84,"endColumn":29,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[2414,2417],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[2414,2417],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}],"suppressions":[{"kind":"directive","justification":""}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":115,"column":29,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":115,"endColumn":32,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[3198,3201],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[3198,3201],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}],"suppressions":[{"kind":"directive","justification":""}]}],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\DELL\\Desktop\\2343053\\ScrapeSense-main\\app\\api\\export\\telegram\\route.ts","messages":[],"suppressedMessages":[{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":42,"column":36,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":42,"endColumn":39,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[1351,1354],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[1351,1354],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}],"suppressions":[{"kind":"directive","justification":""}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":55,"column":40,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":55,"endColumn":43,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[1642,1645],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[1642,1645],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}],"suppressions":[{"kind":"directive","justification":""}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":116,"column":35,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":116,"endColumn":38,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[3530,3533],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[3530,3533],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}],"suppressions":[{"kind":"directive","justification":""}]}],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\DELL\\Desktop\\2343053\\ScrapeSense-main\\app\\api\\instructions\\delete\\route.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\DELL\\Desktop\\2343053\\ScrapeSense-main\\app\\api\\notifications\\settings\\route.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\DELL\\Desktop\\2343053\\ScrapeSense-main\\app\\api\\notifications\\test-email\\route.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\DELL\\Desktop\\2343053\\ScrapeSense-main\\app\\api\\notifications\\test-telegram\\route.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\DELL\\Desktop\\2343053\\ScrapeSense-main\\app\\api\\regenerate-schema\\route.ts","messages":[],"suppressedMessages":[{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":28,"column":51,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":28,"endColumn":54,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[1032,1035],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[1032,1035],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}],"suppressions":[{"kind":"directive","justification":""}]}],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\DELL\\Desktop\\2343053\\ScrapeSense-main\\app\\api\\reject-task\\route.ts","messages":[{"ruleId":null,"message":"Unused eslint-disable directive (no problems were reported from '@typescript-eslint/no-explicit-any').","line":1,"column":1,"severity":1,"nodeType":null,"fix":{"range":[0,55],"text":" "}}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":1,"source":"/* eslint-disable @typescript-eslint/no-explicit-any */\r\nimport { NextResponse } from \"next/server\";\r\nimport { getServerSession } from \"next-auth\";\r\nimport { authOptions } from \"@/lib/auth/options\";\r\nimport { db } from \"@/lib/supabase/queries\";\r\n\r\n/**\r\n * DELETE /api/reject-task\r\n * Reject and delete a pending task\r\n */\r\nexport async function DELETE(request: Request) {\r\n    try {\r\n        const session = await getServerSession(authOptions);\r\n        if (!session?.user) {\r\n            return NextResponse.json({ message: \"Unauthorized\" }, { status: 401 });\r\n        }\r\n\r\n        const { searchParams } = new URL(request.url);\r\n        const pendingTaskId = searchParams.get(\"id\");\r\n\r\n        if (!pendingTaskId) {\r\n            return NextResponse.json(\r\n                { message: \"Missing required parameter: id\" },\r\n                { status: 400 }\r\n            );\r\n        }\r\n\r\n        console.log(`[Reject Task] Rejecting pending task ${pendingTaskId}`);\r\n\r\n        // Delete the pending task\r\n        await db.deletePendingTask(pendingTaskId, session.user.id);\r\n\r\n        console.log(`[Reject Task] Deleted pending task ${pendingTaskId}`);\r\n\r\n        return NextResponse.json({\r\n            success: true,\r\n            message: \"Task rejected and deleted\",\r\n        });\r\n    } catch (error) {\r\n        console.error(\"[Reject Task] Error:\", error);\r\n        return NextResponse.json(\r\n            {\r\n                message: \"Failed to reject task\",\r\n                error: error instanceof Error ? error.message : \"Unknown error\",\r\n            },\r\n            { status: 500 }\r\n        );\r\n    }\r\n}\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\DELL\\Desktop\\2343053\\ScrapeSense-main\\app\\api\\revalidate-task\\route.ts","messages":[{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'updatedTask' is assigned a value but never used.","line":35,"column":15,"nodeType":null,"messageId":"unusedVar","endLine":35,"endColumn":26}],"suppressedMessages":[{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":41,"column":64,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":41,"endColumn":67,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[1577,1580],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[1577,1580],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}],"suppressions":[{"kind":"directive","justification":""}]}],"errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"/* eslint-disable @typescript-eslint/no-explicit-any */\r\nimport { NextResponse } from \"next/server\";\r\nimport { getServerSession } from \"next-auth\";\r\nimport { authOptions } from \"@/lib/auth/options\";\r\nimport { db } from \"@/lib/supabase/queries\";\r\nimport { validateTask } from \"@/lib/validators/task-validator\";\r\n\r\n/**\r\n * POST /api/revalidate-task\r\n * Re-validate a pending task after user edits\r\n */\r\nexport async function POST(request: Request) {\r\n    try {\r\n        const session = await getServerSession(authOptions);\r\n        if (!session?.user) {\r\n            return NextResponse.json({ message: \"Unauthorized\" }, { status: 401 });\r\n        }\r\n\r\n        const body = await request.json();\r\n        const { pendingTaskId, url, title, instructionText, scheduleIntervalHours } = body;\r\n\r\n        if (!pendingTaskId || !url || !instructionText) {\r\n            return NextResponse.json(\r\n                { message: \"Missing required fields\" },\r\n                { status: 400 }\r\n            );\r\n        }\r\n\r\n        console.log(`[Revalidate Task] Re-validating pending task ${pendingTaskId}`);\r\n\r\n        // Run validation again\r\n        const validation = await validateTask(url, instructionText, title);\r\n\r\n        // Update pending task\r\n        const updatedTask = await db.updatePendingTask(pendingTaskId, session.user.id, {\r\n            url,\r\n            title,\r\n            instructionText,\r\n            scheduleIntervalHours: scheduleIntervalHours || 24,\r\n            aiGeneratedSchema: validation.schema,\r\n            parsedInstruction: validation.parsedInstruction as any,\r\n            validationStatus: validation.status,\r\n            validationErrors: validation.errors,\r\n            validationWarnings: validation.warnings,\r\n            aiSuggestions: validation.suggestions,\r\n            testResults: validation.testResults,\r\n            testResultCount: validation.testResultCount,\r\n        });\r\n\r\n        console.log(`[Revalidate Task] Updated pending task ${pendingTaskId}`);\r\n\r\n        return NextResponse.json({\r\n            success: true,\r\n            validation: {\r\n                status: validation.status,\r\n                errors: validation.errors,\r\n                warnings: validation.warnings,\r\n                suggestions: validation.suggestions,\r\n                parsedInstruction: validation.parsedInstruction,\r\n                testResults: validation.testResults,\r\n                testResultCount: validation.testResultCount,\r\n            },\r\n        });\r\n    } catch (error) {\r\n        console.error(\"[Revalidate Task] Error:\", error);\r\n        return NextResponse.json(\r\n            {\r\n                message: \"Re-validation failed\",\r\n                error: error instanceof Error ? error.message : \"Unknown error\",\r\n            },\r\n            { status: 500 }\r\n        );\r\n    }\r\n}\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\DELL\\Desktop\\2343053\\ScrapeSense-main\\app\\api\\scrape\\route.ts","messages":[],"suppressedMessages":[{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":40,"column":34,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":40,"endColumn":37,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[1504,1507],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[1504,1507],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}],"suppressions":[{"kind":"directive","justification":""}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":43,"column":64,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":43,"endColumn":67,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[1616,1619],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[1616,1619],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}],"suppressions":[{"kind":"directive","justification":""}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":47,"column":96,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":47,"endColumn":99,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[1833,1836],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[1833,1836],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}],"suppressions":[{"kind":"directive","justification":""}]}],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\DELL\\Desktop\\2343053\\ScrapeSense-main\\app\\api\\tasks\\route.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\DELL\\Desktop\\2343053\\ScrapeSense-main\\app\\api\\validate-task\\route.ts","messages":[],"suppressedMessages":[{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":43,"column":64,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":43,"endColumn":67,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[1675,1678],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[1675,1678],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}],"suppressions":[{"kind":"directive","justification":""}]}],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\DELL\\Desktop\\2343053\\ScrapeSense-main\\app\\dashboard\\analytics\\page.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\DELL\\Desktop\\2343053\\ScrapeSense-main\\app\\dashboard\\changes\\page.tsx","messages":[],"suppressedMessages":[{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":25,"column":44,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":25,"endColumn":47,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[945,948],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[945,948],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}],"suppressions":[{"kind":"directive","justification":""}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":29,"column":44,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":29,"endColumn":47,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[1107,1110],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[1107,1110],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}],"suppressions":[{"kind":"directive","justification":""}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":76,"column":39,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":76,"endColumn":42,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[3244,3247],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[3244,3247],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}],"suppressions":[{"kind":"directive","justification":""}]}],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\DELL\\Desktop\\2343053\\ScrapeSense-main\\app\\dashboard\\layout.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\DELL\\Desktop\\2343053\\ScrapeSense-main\\app\\dashboard\\page.tsx","messages":[],"suppressedMessages":[{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":42,"column":43,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":42,"endColumn":46,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[1776,1779],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[1776,1779],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}],"suppressions":[{"kind":"directive","justification":""}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":46,"column":34,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":46,"endColumn":37,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[1967,1970],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[1967,1970],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}],"suppressions":[{"kind":"directive","justification":""}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":52,"column":47,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":52,"endColumn":50,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[2166,2169],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[2166,2169],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}],"suppressions":[{"kind":"directive","justification":""}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":53,"column":87,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":53,"endColumn":90,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[2298,2301],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[2298,2301],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}],"suppressions":[{"kind":"directive","justification":""}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":95,"column":33,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":95,"endColumn":36,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[3616,3619],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[3616,3619],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}],"suppressions":[{"kind":"directive","justification":""}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":98,"column":37,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":98,"endColumn":40,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[3694,3697],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[3694,3697],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}],"suppressions":[{"kind":"directive","justification":""}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":110,"column":51,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":110,"endColumn":54,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[4101,4104],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[4101,4104],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}],"suppressions":[{"kind":"directive","justification":""}]}],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\DELL\\Desktop\\2343053\\ScrapeSense-main\\app\\dashboard\\results\\page.tsx","messages":[],"suppressedMessages":[{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":23,"column":47,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":23,"endColumn":50,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[905,908],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[905,908],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}],"suppressions":[{"kind":"directive","justification":""}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":35,"column":11,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":35,"endColumn":14,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[1434,1437],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[1434,1437],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}],"suppressions":[{"kind":"directive","justification":""}]}],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\DELL\\Desktop\\2343053\\ScrapeSense-main\\app\\dashboard\\settings\\email-guide\\page.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\DELL\\Desktop\\2343053\\ScrapeSense-main\\app\\dashboard\\settings\\page.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\DELL\\Desktop\\2343053\\ScrapeSense-main\\app\\dashboard\\settings\\telegram-guide\\page.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\DELL\\Desktop\\2343053\\ScrapeSense-main\\app\\dashboard\\tasks\\new\\page.tsx","messages":[],"suppressedMessages":[{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":18,"column":34,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":18,"endColumn":37,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[753,756],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[753,756],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}],"suppressions":[{"kind":"directive","justification":""}]}],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\DELL\\Desktop\\2343053\\ScrapeSense-main\\app\\dashboard\\tasks\\page.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\DELL\\Desktop\\2343053\\ScrapeSense-main\\app\\dashboard\\tasks\\validate\\[id]\\page.tsx","messages":[{"ruleId":null,"message":"Unused eslint-disable directive (no problems were reported from '@typescript-eslint/no-explicit-any').","line":1,"column":1,"severity":1,"nodeType":null,"fix":{"range":[0,55],"text":" "}}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":1,"source":"/* eslint-disable @typescript-eslint/no-explicit-any */\r\nimport { redirect } from \"next/navigation\";\r\nimport { getServerSession } from \"next-auth\";\r\nimport { authOptions } from \"@/lib/auth/options\";\r\nimport { db } from \"@/lib/supabase/queries\";\r\nimport { TaskValidationView } from \"@/components/dashboard/task-validation-view\";\r\n\r\nexport default async function ValidateTaskPage({ params }: { params: Promise<{ id: string }> }) {\r\n    const session = await getServerSession(authOptions);\r\n\r\n    console.log(\"[Validate Page] Session:\", JSON.stringify(session, null, 2));\r\n\r\n    if (!session?.user) {\r\n        console.log(\"[Validate Page] No session, redirecting to signin\");\r\n        redirect(\"/signin\");\r\n    }\r\n\r\n    if (!session.user.id) {\r\n        console.error(\"[Validate Page] Session user has no ID!\", session.user);\r\n        redirect(\"/signin\");\r\n    }\r\n\r\n    // Await params for Next.js 16 compatibility\r\n    const { id } = await params;\r\n\r\n    console.log(\"[Validate Page] Loading pending task:\", id, \"for user:\", session.user.id);\r\n\r\n    try {\r\n        const pendingTask = await db.getPendingTask(id, session.user.id);\r\n\r\n        console.log(\"[Validate Page] Loaded pending task:\", pendingTask?.id);\r\n\r\n        return (\r\n            <div className=\"space-y-6\">\r\n                <div>\r\n                    <h1 className=\"text-3xl font-bold\">Review Task</h1>\r\n                    <p className=\"text-muted-foreground mt-2\">\r\n                        Review the validation results and test scrape before activating this task.\r\n                    </p>\r\n                </div>\r\n\r\n                <TaskValidationView pendingTask={pendingTask} />\r\n            </div>\r\n        );\r\n    } catch (error) {\r\n        console.error(\"Failed to load pending task:\", error);\r\n        redirect(\"/dashboard/tasks\");\r\n    }\r\n}\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\DELL\\Desktop\\2343053\\ScrapeSense-main\\app\\layout.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\DELL\\Desktop\\2343053\\ScrapeSense-main\\app\\page.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\DELL\\Desktop\\2343053\\ScrapeSense-main\\components\\dashboard\\activity-feed.tsx","messages":[],"suppressedMessages":[{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":17,"column":59,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":17,"endColumn":62,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[562,565],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[562,565],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}],"suppressions":[{"kind":"directive","justification":""}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":17,"column":75,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":17,"endColumn":78,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[578,581],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[578,581],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}],"suppressions":[{"kind":"directive","justification":""}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":22,"column":24,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":22,"endColumn":27,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[725,728],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[725,728],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}],"suppressions":[{"kind":"directive","justification":""}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":39,"column":40,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":39,"endColumn":43,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[1359,1362],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[1359,1362],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}],"suppressions":[{"kind":"directive","justification":""}]}],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\DELL\\Desktop\\2343053\\ScrapeSense-main\\components\\dashboard\\analytics-charts.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\DELL\\Desktop\\2343053\\ScrapeSense-main\\components\\dashboard\\analytics-summary.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\DELL\\Desktop\\2343053\\ScrapeSense-main\\components\\dashboard\\change-feed.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\DELL\\Desktop\\2343053\\ScrapeSense-main\\components\\dashboard\\cron-card.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\DELL\\Desktop\\2343053\\ScrapeSense-main\\components\\dashboard\\dashboard-chrome.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\DELL\\Desktop\\2343053\\ScrapeSense-main\\components\\dashboard\\export-buttons.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\DELL\\Desktop\\2343053\\ScrapeSense-main\\components\\dashboard\\inline-task-editor.tsx","messages":[{"ruleId":"react/no-unescaped-entities","severity":2,"message":"`\"` can be escaped with `&quot;`, `&ldquo;`, `&#34;`, `&rdquo;`.","line":104,"column":71,"nodeType":"JSXText","messageId":"unescapedEntityAlts","suggestions":[{"messageId":"replaceWithAlt","data":{"alt":"&quot;"},"fix":{"range":[4016,4168],"text":"\r\n                            Be specific! Mention result limits (e.g., &quot;top 10\"), fields (e.g., \"title, price\"), and filters.\r\n                        "},"desc":"Replace with `&quot;`."},{"messageId":"replaceWithAlt","data":{"alt":"&ldquo;"},"fix":{"range":[4016,4168],"text":"\r\n                            Be specific! Mention result limits (e.g., &ldquo;top 10\"), fields (e.g., \"title, price\"), and filters.\r\n                        "},"desc":"Replace with `&ldquo;`."},{"messageId":"replaceWithAlt","data":{"alt":"&#34;"},"fix":{"range":[4016,4168],"text":"\r\n                            Be specific! Mention result limits (e.g., &#34;top 10\"), fields (e.g., \"title, price\"), and filters.\r\n                        "},"desc":"Replace with `&#34;`."},{"messageId":"replaceWithAlt","data":{"alt":"&rdquo;"},"fix":{"range":[4016,4168],"text":"\r\n                            Be specific! Mention result limits (e.g., &rdquo;top 10\"), fields (e.g., \"title, price\"), and filters.\r\n                        "},"desc":"Replace with `&rdquo;`."}]},{"ruleId":"react/no-unescaped-entities","severity":2,"message":"`\"` can be escaped with `&quot;`, `&ldquo;`, `&#34;`, `&rdquo;`.","line":104,"column":78,"nodeType":"JSXText","messageId":"unescapedEntityAlts","suggestions":[{"messageId":"replaceWithAlt","data":{"alt":"&quot;"},"fix":{"range":[4016,4168],"text":"\r\n                            Be specific! Mention result limits (e.g., \"top 10&quot;), fields (e.g., \"title, price\"), and filters.\r\n                        "},"desc":"Replace with `&quot;`."},{"messageId":"replaceWithAlt","data":{"alt":"&ldquo;"},"fix":{"range":[4016,4168],"text":"\r\n                            Be specific! Mention result limits (e.g., \"top 10&ldquo;), fields (e.g., \"title, price\"), and filters.\r\n                        "},"desc":"Replace with `&ldquo;`."},{"messageId":"replaceWithAlt","data":{"alt":"&#34;"},"fix":{"range":[4016,4168],"text":"\r\n                            Be specific! Mention result limits (e.g., \"top 10&#34;), fields (e.g., \"title, price\"), and filters.\r\n                        "},"desc":"Replace with `&#34;`."},{"messageId":"replaceWithAlt","data":{"alt":"&rdquo;"},"fix":{"range":[4016,4168],"text":"\r\n                            Be specific! Mention result limits (e.g., \"top 10&rdquo;), fields (e.g., \"title, price\"), and filters.\r\n                        "},"desc":"Replace with `&rdquo;`."}]},{"ruleId":"react/no-unescaped-entities","severity":2,"message":"`\"` can be escaped with `&quot;`, `&ldquo;`, `&#34;`, `&rdquo;`.","line":104,"column":96,"nodeType":"JSXText","messageId":"unescapedEntityAlts","suggestions":[{"messageId":"replaceWithAlt","data":{"alt":"&quot;"},"fix":{"range":[4016,4168],"text":"\r\n                            Be specific! Mention result limits (e.g., \"top 10\"), fields (e.g., &quot;title, price\"), and filters.\r\n                        "},"desc":"Replace with `&quot;`."},{"messageId":"replaceWithAlt","data":{"alt":"&ldquo;"},"fix":{"range":[4016,4168],"text":"\r\n                            Be specific! Mention result limits (e.g., \"top 10\"), fields (e.g., &ldquo;title, price\"), and filters.\r\n                        "},"desc":"Replace with `&ldquo;`."},{"messageId":"replaceWithAlt","data":{"alt":"&#34;"},"fix":{"range":[4016,4168],"text":"\r\n                            Be specific! Mention result limits (e.g., \"top 10\"), fields (e.g., &#34;title, price\"), and filters.\r\n                        "},"desc":"Replace with `&#34;`."},{"messageId":"replaceWithAlt","data":{"alt":"&rdquo;"},"fix":{"range":[4016,4168],"text":"\r\n                            Be specific! Mention result limits (e.g., \"top 10\"), fields (e.g., &rdquo;title, price\"), and filters.\r\n                        "},"desc":"Replace with `&rdquo;`."}]},{"ruleId":"react/no-unescaped-entities","severity":2,"message":"`\"` can be escaped with `&quot;`, `&ldquo;`, `&#34;`, `&rdquo;`.","line":104,"column":109,"nodeType":"JSXText","messageId":"unescapedEntityAlts","suggestions":[{"messageId":"replaceWithAlt","data":{"alt":"&quot;"},"fix":{"range":[4016,4168],"text":"\r\n                            Be specific! Mention result limits (e.g., \"top 10\"), fields (e.g., \"title, price&quot;), and filters.\r\n                        "},"desc":"Replace with `&quot;`."},{"messageId":"replaceWithAlt","data":{"alt":"&ldquo;"},"fix":{"range":[4016,4168],"text":"\r\n                            Be specific! Mention result limits (e.g., \"top 10\"), fields (e.g., \"title, price&ldquo;), and filters.\r\n                        "},"desc":"Replace with `&ldquo;`."},{"messageId":"replaceWithAlt","data":{"alt":"&#34;"},"fix":{"range":[4016,4168],"text":"\r\n                            Be specific! Mention result limits (e.g., \"top 10\"), fields (e.g., \"title, price&#34;), and filters.\r\n                        "},"desc":"Replace with `&#34;`."},{"messageId":"replaceWithAlt","data":{"alt":"&rdquo;"},"fix":{"range":[4016,4168],"text":"\r\n                            Be specific! Mention result limits (e.g., \"top 10\"), fields (e.g., \"title, price&rdquo;), and filters.\r\n                        "},"desc":"Replace with `&rdquo;`."}]}],"suppressedMessages":[],"errorCount":4,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"source":"\"use client\";\r\n\r\nimport { useState } from \"react\";\r\nimport { useRouter } from \"next/navigation\";\r\nimport { Card, CardContent, CardHeader, CardTitle } from \"@/components/ui/card\";\r\nimport { Button } from \"@/components/ui/button\";\r\nimport { Input } from \"@/components/ui/input\";\r\nimport { Textarea } from \"@/components/ui/textarea\";\r\nimport { Label } from \"@/components/ui/label\";\r\nimport { Loader2, Save, X } from \"lucide-react\";\r\n\r\ninterface PendingTask {\r\n    id: string;\r\n    url: string;\r\n    title?: string;\r\n    instruction_text: string;\r\n    schedule_interval_hours: number;\r\n}\r\n\r\ninterface InlineTaskEditorProps {\r\n    pendingTask: PendingTask;\r\n    onCancel: () => void;\r\n    onSaved: () => void;\r\n}\r\n\r\nexport function InlineTaskEditor({ pendingTask, onCancel, onSaved }: InlineTaskEditorProps) {\r\n    const router = useRouter();\r\n    const [isRevalidating, setIsRevalidating] = useState(false);\r\n    const [formData, setFormData] = useState({\r\n        url: pendingTask.url,\r\n        title: pendingTask.title || \"\",\r\n        instructionText: pendingTask.instruction_text,\r\n        scheduleIntervalHours: pendingTask.schedule_interval_hours,\r\n    });\r\n\r\n    const handleSubmit = async (e: React.FormEvent) => {\r\n        e.preventDefault();\r\n        setIsRevalidating(true);\r\n\r\n        try {\r\n            const response = await fetch(\"/api/revalidate-task\", {\r\n                method: \"POST\",\r\n                headers: { \"Content-Type\": \"application/json\" },\r\n                body: JSON.stringify({\r\n                    pendingTaskId: pendingTask.id,\r\n                    ...formData,\r\n                }),\r\n            });\r\n\r\n            if (!response.ok) {\r\n                throw new Error(\"Failed to revalidate task\");\r\n            }\r\n\r\n            onSaved();\r\n            router.refresh();\r\n        } catch (error) {\r\n            console.error(\"Failed to revalidate task:\", error);\r\n            alert(\"Failed to revalidate task. Please try again.\");\r\n        } finally {\r\n            setIsRevalidating(false);\r\n        }\r\n    };\r\n\r\n    return (\r\n        <Card className=\"border-2 border-blue-200 dark:border-blue-800\">\r\n            <CardHeader>\r\n                <CardTitle>Edit Task</CardTitle>\r\n            </CardHeader>\r\n            <CardContent>\r\n                <form onSubmit={handleSubmit} className=\"space-y-4\">\r\n                    <div className=\"space-y-2\">\r\n                        <Label htmlFor=\"url\">Target URL *</Label>\r\n                        <Input\r\n                            id=\"url\"\r\n                            type=\"url\"\r\n                            value={formData.url}\r\n                            onChange={(e) => setFormData({ ...formData, url: e.target.value })}\r\n                            placeholder=\"https://example.com\"\r\n                            required\r\n                        />\r\n                    </div>\r\n\r\n                    <div className=\"space-y-2\">\r\n                        <Label htmlFor=\"title\">Short Label (Optional)</Label>\r\n                        <Input\r\n                            id=\"title\"\r\n                            value={formData.title}\r\n                            onChange={(e) => setFormData({ ...formData, title: e.target.value })}\r\n                            placeholder=\"e.g., HackerNews Top Stories\"\r\n                        />\r\n                    </div>\r\n\r\n                    <div className=\"space-y-2\">\r\n                        <Label htmlFor=\"instruction\">Instruction *</Label>\r\n                        <Textarea\r\n                            id=\"instruction\"\r\n                            value={formData.instructionText}\r\n                            onChange={(e) => setFormData({ ...formData, instructionText: e.target.value })}\r\n                            placeholder=\"Describe what to scrape (e.g., 'Get top 10 posts with title, author, and votes')\"\r\n                            rows={4}\r\n                            required\r\n                        />\r\n                        <p className=\"text-xs text-muted-foreground\">\r\n                            Be specific! Mention result limits (e.g., \"top 10\"), fields (e.g., \"title, price\"), and filters.\r\n                        </p>\r\n                    </div>\r\n\r\n                    <div className=\"space-y-2\">\r\n                        <Label htmlFor=\"schedule\">Refresh Cadence (hours) *</Label>\r\n                        <Input\r\n                            id=\"schedule\"\r\n                            type=\"number\"\r\n                            min=\"1\"\r\n                            max=\"168\"\r\n                            value={formData.scheduleIntervalHours}\r\n                            onChange={(e) =>\r\n                                setFormData({ ...formData, scheduleIntervalHours: parseInt(e.target.value, 10) })\r\n                            }\r\n                            required\r\n                        />\r\n                    </div>\r\n\r\n                    <div className=\"flex gap-3 justify-end pt-4\">\r\n                        <Button type=\"button\" variant=\"outline\" onClick={onCancel} disabled={isRevalidating}>\r\n                            <X className=\"h-4 w-4 mr-2\" />\r\n                            Cancel\r\n                        </Button>\r\n                        <Button type=\"submit\" disabled={isRevalidating}>\r\n                            {isRevalidating ? (\r\n                                <>\r\n                                    <Loader2 className=\"h-4 w-4 mr-2 animate-spin\" />\r\n                                    Re-validating...\r\n                                </>\r\n                            ) : (\r\n                                <>\r\n                                    <Save className=\"h-4 w-4 mr-2\" />\r\n                                    Save & Re-validate\r\n                                </>\r\n                            )}\r\n                        </Button>\r\n                    </div>\r\n                </form>\r\n            </CardContent>\r\n        </Card>\r\n    );\r\n}\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\DELL\\Desktop\\2343053\\ScrapeSense-main\\components\\dashboard\\mobile-sidebar.tsx","messages":[],"suppressedMessages":[{"ruleId":"react-hooks/exhaustive-deps","severity":1,"message":"React Hook useEffect has missing dependencies: 'onClose' and 'open'. Either include them or remove the dependency array. If 'onClose' changes too often, find the parent component that defines it and wrap that definition in useCallback.","line":33,"column":6,"nodeType":"ArrayExpression","endLine":33,"endColumn":16,"suggestions":[{"desc":"Update the dependencies array to be: [onClose, open, pathname]","fix":{"range":[916,926],"text":"[onClose, open, pathname]"}}],"suppressions":[{"kind":"directive","justification":""}]}],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\DELL\\Desktop\\2343053\\ScrapeSense-main\\components\\dashboard\\notification-status.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\DELL\\Desktop\\2343053\\ScrapeSense-main\\components\\dashboard\\overview-cards.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\DELL\\Desktop\\2343053\\ScrapeSense-main\\components\\dashboard\\quick-actions.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\DELL\\Desktop\\2343053\\ScrapeSense-main\\components\\dashboard\\result-table.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\DELL\\Desktop\\2343053\\ScrapeSense-main\\components\\dashboard\\schema-preview.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\DELL\\Desktop\\2343053\\ScrapeSense-main\\components\\dashboard\\scrape-health.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\DELL\\Desktop\\2343053\\ScrapeSense-main\\components\\dashboard\\settings-form.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\DELL\\Desktop\\2343053\\ScrapeSense-main\\components\\dashboard\\sidebar.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\DELL\\Desktop\\2343053\\ScrapeSense-main\\components\\dashboard\\signin-actions.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\DELL\\Desktop\\2343053\\ScrapeSense-main\\components\\dashboard\\stats-chart.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\DELL\\Desktop\\2343053\\ScrapeSense-main\\components\\dashboard\\summary-panel.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\DELL\\Desktop\\2343053\\ScrapeSense-main\\components\\dashboard\\task-form.tsx","messages":[{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'reset' is assigned a value but never used.","line":65,"column":5,"nodeType":null,"messageId":"unusedVar","endLine":65,"endColumn":10}],"suppressedMessages":[{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":73,"column":10,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":73,"endColumn":13,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[2311,2314],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[2311,2314],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}],"suppressions":[{"kind":"directive","justification":""}]}],"errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"/* eslint-disable @typescript-eslint/no-explicit-any */\n\"use client\";\n\nimport { useState } from \"react\";\nimport { useRouter } from \"next/navigation\";\nimport { useForm } from \"react-hook-form\";\nimport { zodResolver } from \"@hookform/resolvers/zod\";\nimport { CheckCircle2, Loader2, Newspaper, MessageSquare, Code } from \"lucide-react\";\nimport { Button } from \"@/components/ui/button\";\nimport { Input } from \"@/components/ui/input\";\nimport { Textarea } from \"@/components/ui/textarea\";\nimport { Label } from \"@/components/ui/label\";\nimport { siteSchema, instructionSchema } from \"@/lib/validators/task\";\n\ntype CombinedForm = {\n  url: string;\n  title?: string;\n  instructionText: string;\n  scheduleIntervalHours: number;\n};\n\nconst PRESET_SITES = [\n  {\n    icon: Code,\n    name: \"HackerNews\",\n    color: \"from-orange-500/20 to-red-500/10 text-orange-600 dark:text-orange-300\",\n    config: {\n      url: \"https://news.ycombinator.com\",\n      title: \"HackerNews  Top Stories\",\n      instructionText: \"Fetch top tech stories and discussions from HackerNews with scores and comments\",\n      scheduleIntervalHours: 12,\n    },\n  },\n  {\n    icon: MessageSquare,\n    name: \"Reddit\",\n    color: \"from-blue-500/20 to-indigo-500/10 text-blue-600 dark:text-blue-300\",\n    config: {\n      url: \"https://reddit.com/r/programming\",\n      title: \"Reddit  r/programming\",\n      instructionText: \"Fetch hot posts from r/programming with upvotes and comments\",\n      scheduleIntervalHours: 6,\n    },\n  },\n  {\n    icon: Newspaper,\n    name: \"TechCrunch\",\n    color: \"from-emerald-500/20 to-teal-500/10 text-emerald-600 dark:text-emerald-300\",\n    config: {\n      url: \"https://techcrunch.com/feed/\",\n      title: \"TechCrunch  Latest News\",\n      instructionText: \"Fetch latest tech news articles from TechCrunch RSS feed\",\n      scheduleIntervalHours: 24,\n    },\n  },\n];\n\nexport const TaskForm = () => {\n  const router = useRouter();\n  const [status, setStatus] = useState<{ type: \"success\" | \"error\"; message: string } | null>(null);\n  const {\n    register,\n    handleSubmit,\n    formState: { errors, isSubmitting },\n    reset,\n    setValue,\n  } = useForm<CombinedForm>({\n    resolver: zodResolver(\n      siteSchema.merge(instructionSchema.pick({\n        instructionText: true,\n        scheduleIntervalHours: true\n      }))\n    ) as any,\n    defaultValues: {\n      scheduleIntervalHours: 24,\n    },\n  });\n\n  const handlePresetClick = (preset: typeof PRESET_SITES[0]) => {\n    setValue(\"url\", preset.config.url);\n    setValue(\"title\", preset.config.title);\n    setValue(\"instructionText\", preset.config.instructionText);\n    setValue(\"scheduleIntervalHours\", preset.config.scheduleIntervalHours);\n    setStatus(null);\n  };\n\n  const onSubmit = async (data: CombinedForm) => {\n    setStatus(null);\n    try {\n      // Call validation API instead of directly creating task\n      const res = await fetch(\"/api/validate-task\", {\n        method: \"POST\",\n        headers: {\n          \"Content-Type\": \"application/json\",\n        },\n        body: JSON.stringify({\n          url: data.url,\n          title: data.title,\n          instructionText: data.instructionText,\n          scheduleIntervalHours: data.scheduleIntervalHours,\n        }),\n      });\n\n      if (!res.ok) {\n        const body = await res.json();\n        throw new Error(body.message ?? \"Unable to validate task\");\n      }\n\n      const result = await res.json();\n\n      // Redirect to validation page\n      router.push(`/dashboard/tasks/validate/${result.pendingTaskId}`);\n    } catch (error) {\n      if (error instanceof Error) {\n        setStatus({ type: \"error\", message: error.message });\n      } else {\n        setStatus({ type: \"error\", message: \"Unexpected error\" });\n      }\n    }\n  };\n\n  return (\n    <div className=\"space-y-6\">\n      {/* Quick Start Presets */}\n      <div className=\"space-y-3\">\n        <Label className=\"text-sm font-medium\">Quick Start (Click to auto-fill)</Label>\n        <div className=\"grid grid-cols-1 sm:grid-cols-3 gap-3\">\n          {PRESET_SITES.map((preset) => {\n            const Icon = preset.icon;\n            return (\n              <button\n                key={preset.name}\n                type=\"button\"\n                onClick={() => handlePresetClick(preset)}\n                className=\"flex items-center gap-3 p-3 rounded-xl border border-white/30 bg-white/50 hover:bg-white/70 transition backdrop-blur-sm dark:border-white/10 dark:bg-slate-800/40 dark:hover:bg-slate-800/60 text-left\"\n              >\n                <div className={`flex h-10 w-10 shrink-0 items-center justify-center rounded-lg bg-gradient-to-br ${preset.color}`}>\n                  <Icon className=\"h-5 w-5\" />\n                </div>\n                <div className=\"flex-1 min-w-0\">\n                  <p className=\"text-sm font-semibold text-slate-900 dark:text-white truncate\">\n                    {preset.name}\n                  </p>\n                  <p className=\"text-xs text-slate-600 dark:text-slate-400\">\n                    Click to use\n                  </p>\n                </div>\n              </button>\n            );\n          })}\n        </div>\n      </div>\n\n      {/* Divider */}\n      <div className=\"relative\">\n        <div className=\"absolute inset-0 flex items-center\">\n          <span className=\"w-full border-t border-white/20 dark:border-white/10\" />\n        </div>\n        <div className=\"relative flex justify-center text-xs uppercase\">\n          <span className=\"bg-white/80 px-2 text-slate-500 dark:bg-slate-900/80 dark:text-slate-400\">\n            Or enter custom site\n          </span>\n        </div>\n      </div>\n\n      {/* Form */}\n      <form className=\"space-y-6\" onSubmit={handleSubmit(onSubmit)}>\n        <div className=\"space-y-2\">\n          <Label htmlFor=\"url\">Target URL</Label>\n          <Input id=\"url\" placeholder=\"https://producthunt.com\" {...register(\"url\")} />\n          {errors.url && <p className=\"text-xs text-red-500\">{errors.url.message}</p>}\n        </div>\n        <div className=\"space-y-2\">\n          <Label htmlFor=\"title\">Short label</Label>\n          <Input id=\"title\" placeholder=\"Product Hunt  AI launches\" {...register(\"title\")} />\n          {errors.title && <p className=\"text-xs text-red-500\">{errors.title.message}</p>}\n        </div>\n        <div className=\"space-y-2\">\n          <Label htmlFor=\"instructionText\">Instruction</Label>\n          <Textarea\n            id=\"instructionText\"\n            rows={6}\n            placeholder='Example: \"Fetch innovative projects with >50 upvotes, refresh every 24 hours\".'\n            {...register(\"instructionText\")}\n          />\n          {errors.instructionText && (\n            <p className=\"text-xs text-red-500\">{errors.instructionText.message}</p>\n          )}\n        </div>\n        <div className=\"space-y-2\">\n          <Label htmlFor=\"scheduleIntervalHours\">Refresh cadence (hours)</Label>\n          <Input\n            type=\"number\"\n            min={1}\n            max={168}\n            id=\"scheduleIntervalHours\"\n            {...register(\"scheduleIntervalHours\", { valueAsNumber: true })}\n          />\n          {errors.scheduleIntervalHours && (\n            <p className=\"text-xs text-red-500\">{errors.scheduleIntervalHours.message}</p>\n          )}\n        </div>\n        <Button type=\"submit\" className=\"w-full gap-2\" disabled={isSubmitting}>\n          {isSubmitting && <Loader2 className=\"h-4 w-4 animate-spin\" />}\n          {isSubmitting ? \"Validating...\" : \"Create & Validate Task\"}\n        </Button>\n        {status && (\n          <div\n            className={`flex items-start gap-2 rounded-lg border p-3 text-sm ${status.type === \"success\"\n              ? \"border-emerald-200 bg-emerald-50 text-emerald-800 dark:border-emerald-800 dark:bg-emerald-950 dark:text-emerald-200\"\n              : \"border-red-200 bg-red-50 text-red-800 dark:border-red-800 dark:bg-red-950 dark:text-red-200\"\n              }`}\n          >\n            {status.type === \"success\" && <CheckCircle2 className=\"h-5 w-5 shrink-0 mt-0.5\" />}\n            <div>\n              <p className=\"font-medium\">{status.message}</p>\n              {status.type === \"success\" && (\n                <p className=\"text-xs mt-1 opacity-80\">Refreshing page...</p>\n              )}\n            </div>\n          </div>\n        )}\n      </form>\n    </div>\n  );\n};\n\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\DELL\\Desktop\\2343053\\ScrapeSense-main\\components\\dashboard\\task-list.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\DELL\\Desktop\\2343053\\ScrapeSense-main\\components\\dashboard\\task-preview-card.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\DELL\\Desktop\\2343053\\ScrapeSense-main\\components\\dashboard\\task-table.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\DELL\\Desktop\\2343053\\ScrapeSense-main\\components\\dashboard\\task-validation-view.tsx","messages":[{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":49,"column":52,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":49,"endColumn":55,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[1756,1759],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[1756,1759],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"react/no-unescaped-entities","severity":2,"message":"`\"` can be escaped with `&quot;`, `&ldquo;`, `&#34;`, `&rdquo;`.","line":466,"column":66,"nodeType":"JSXText","messageId":"unescapedEntityAlts","suggestions":[{"messageId":"replaceWithAlt","data":{"alt":"&quot;"},"fix":{"range":[20652,20775],"text":"\r\n                            Fix errors or run a successful test (&quot;Run Now\") to enable approval.\r\n                        "},"desc":"Replace with `&quot;`."},{"messageId":"replaceWithAlt","data":{"alt":"&ldquo;"},"fix":{"range":[20652,20775],"text":"\r\n                            Fix errors or run a successful test (&ldquo;Run Now\") to enable approval.\r\n                        "},"desc":"Replace with `&ldquo;`."},{"messageId":"replaceWithAlt","data":{"alt":"&#34;"},"fix":{"range":[20652,20775],"text":"\r\n                            Fix errors or run a successful test (&#34;Run Now\") to enable approval.\r\n                        "},"desc":"Replace with `&#34;`."},{"messageId":"replaceWithAlt","data":{"alt":"&rdquo;"},"fix":{"range":[20652,20775],"text":"\r\n                            Fix errors or run a successful test (&rdquo;Run Now\") to enable approval.\r\n                        "},"desc":"Replace with `&rdquo;`."}]},{"ruleId":"react/no-unescaped-entities","severity":2,"message":"`\"` can be escaped with `&quot;`, `&ldquo;`, `&#34;`, `&rdquo;`.","line":466,"column":74,"nodeType":"JSXText","messageId":"unescapedEntityAlts","suggestions":[{"messageId":"replaceWithAlt","data":{"alt":"&quot;"},"fix":{"range":[20652,20775],"text":"\r\n                            Fix errors or run a successful test (\"Run Now&quot;) to enable approval.\r\n                        "},"desc":"Replace with `&quot;`."},{"messageId":"replaceWithAlt","data":{"alt":"&ldquo;"},"fix":{"range":[20652,20775],"text":"\r\n                            Fix errors or run a successful test (\"Run Now&ldquo;) to enable approval.\r\n                        "},"desc":"Replace with `&ldquo;`."},{"messageId":"replaceWithAlt","data":{"alt":"&#34;"},"fix":{"range":[20652,20775],"text":"\r\n                            Fix errors or run a successful test (\"Run Now&#34;) to enable approval.\r\n                        "},"desc":"Replace with `&#34;`."},{"messageId":"replaceWithAlt","data":{"alt":"&rdquo;"},"fix":{"range":[20652,20775],"text":"\r\n                            Fix errors or run a successful test (\"Run Now&rdquo;) to enable approval.\r\n                        "},"desc":"Replace with `&rdquo;`."}]}],"suppressedMessages":[{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":34,"column":19,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":34,"endColumn":22,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[1018,1021],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[1018,1021],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}],"suppressions":[{"kind":"directive","justification":""}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":37,"column":25,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":37,"endColumn":28,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[1150,1153],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[1150,1153],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}],"suppressions":[{"kind":"directive","justification":""}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":351,"column":51,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":351,"endColumn":54,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[15188,15191],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[15188,15191],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}],"suppressions":[{"kind":"directive","justification":""}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":371,"column":64,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":371,"endColumn":67,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[16334,16337],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[16334,16337],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}],"suppressions":[{"kind":"directive","justification":""}]}],"errorCount":3,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"source":"\"use client\";\r\n\r\nimport { useState } from \"react\";\r\nimport { useRouter } from \"next/navigation\";\r\nimport { Card, CardContent, CardHeader, CardTitle, CardDescription } from \"@/components/ui/card\";\r\nimport { Button } from \"@/components/ui/button\";\r\nimport { Badge } from \"@/components/ui/badge\";\r\nimport {\r\n    CheckCircle2,\r\n    AlertTriangle,\r\n    XCircle,\r\n    ThumbsUp,\r\n    ThumbsDown,\r\n    Edit,\r\n    Loader2,\r\n    RefreshCw,\r\n    Play,\r\n} from \"lucide-react\";\r\nimport { ValidationSuggestions } from \"./validation-suggestions\";\r\nimport { InlineTaskEditor } from \"./inline-task-editor\";\r\nimport { TaskPreviewCard } from \"./task-preview-card\";\r\n\r\ninterface PendingTask {\r\n    id: string;\r\n    url: string;\r\n    title?: string;\r\n    instruction_text: string;\r\n    schedule_interval_hours: number;\r\n    validation_status: string;\r\n    validation_errors: string[];\r\n    validation_warnings: string[];\r\n    ai_suggestions: string[];\r\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\r\n    test_results: any[];\r\n    test_result_count: number;\r\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\r\n    parsed_instruction: any;\r\n    created_at: string;\r\n}\r\n\r\nexport function TaskValidationView({ pendingTask }: { pendingTask: PendingTask }) {\r\n    const router = useRouter();\r\n    const [isEditing, setIsEditing] = useState(false);\r\n    const [isApproving, setIsApproving] = useState(false);\r\n    const [isRejecting, setIsRejecting] = useState(false);\r\n    const [isRegenerating, setIsRegenerating] = useState(false);\r\n    const [isRunning, setIsRunning] = useState(false);\r\n    const [message, setMessage] = useState<{ type: 'success' | 'error', text: string } | null>(null);\r\n    const [liveResults, setLiveResults] = useState<any[] | null>(null);\r\n\r\n    const showMessage = (type: 'success' | 'error', text: string) => {\r\n        setMessage({ type, text });\r\n        setTimeout(() => setMessage(null), 5000);\r\n    };\r\n\r\n    const handleApprove = async () => {\r\n        setIsApproving(true);\r\n        try {\r\n            const response = await fetch(\"/api/approve-task\", {\r\n                method: \"POST\",\r\n                headers: { \"Content-Type\": \"application/json\" },\r\n                body: JSON.stringify({ pendingTaskId: pendingTask.id }),\r\n            });\r\n\r\n            if (!response.ok) {\r\n                throw new Error(\"Failed to approve task\");\r\n            }\r\n\r\n            showMessage('success', ' Task approved and activated successfully!');\r\n            setTimeout(() => {\r\n                router.push(\"/dashboard?approved=true\");\r\n                router.refresh();\r\n            }, 1500);\r\n        } catch (error) {\r\n            console.error(\"Failed to approve task:\", error);\r\n            showMessage('error', ' Failed to approve task. Please try again.');\r\n        } finally {\r\n            setIsApproving(false);\r\n        }\r\n    };\r\n\r\n    const handleReject = async () => {\r\n        if (!confirm(\"Are you sure you want to reject this task? This cannot be undone.\")) {\r\n            return;\r\n        }\r\n\r\n        setIsRejecting(true);\r\n        try {\r\n            const response = await fetch(`/api/reject-task?id=${pendingTask.id}`, {\r\n                method: \"DELETE\",\r\n            });\r\n\r\n            if (!response.ok) {\r\n                throw new Error(\"Failed to reject task\");\r\n            }\r\n\r\n            showMessage('success', ' Task rejected successfully');\r\n            setTimeout(() => {\r\n                router.push(\"/dashboard?rejected=true\");\r\n                router.refresh();\r\n            }, 1500);\r\n        } catch (error) {\r\n            console.error(\"Failed to reject task:\", error);\r\n            showMessage('error', ' Failed to reject task. Please try again.');\r\n        } finally {\r\n            setIsRejecting(false);\r\n        }\r\n    };\r\n\r\n    const handleRegenerate = async () => {\r\n        setIsRegenerating(true);\r\n        try {\r\n            const response = await fetch(\"/api/revalidate-task\", {\r\n                method: \"POST\",\r\n                headers: { \"Content-Type\": \"application/json\" },\r\n                body: JSON.stringify({\r\n                    pendingTaskId: pendingTask.id,\r\n                    url: pendingTask.url,\r\n                    title: pendingTask.title,\r\n                    instructionText: pendingTask.instruction_text,\r\n                    scheduleIntervalHours: pendingTask.schedule_interval_hours,\r\n                }),\r\n            });\r\n\r\n            if (!response.ok) {\r\n                throw new Error(\"Failed to regenerate schema\");\r\n            }\r\n\r\n            showMessage('success', ' Schema regenerated successfully!');\r\n            setTimeout(() => router.refresh(), 1000);\r\n        } catch (error) {\r\n            console.error(\"Failed to regenerate schema:\", error);\r\n            showMessage('error', ' Failed to regenerate schema. Please try again.');\r\n        } finally {\r\n            setIsRegenerating(false);\r\n        }\r\n    };\r\n\r\n    const handleRun = async () => {\r\n        setIsRunning(true);\r\n        setLiveResults(null);\r\n        try {\r\n            const approveResponse = await fetch(\"/api/approve-task\", {\r\n                method: \"POST\",\r\n                headers: { \"Content-Type\": \"application/json\" },\r\n                body: JSON.stringify({ pendingTaskId: pendingTask.id }),\r\n            });\r\n\r\n            if (!approveResponse.ok) {\r\n                throw new Error(\"Failed to prepare task for running\");\r\n            }\r\n\r\n            const { instructionId } = await approveResponse.json();\r\n\r\n            const scrapeResponse = await fetch(\"/api/scrape\", {\r\n                method: \"POST\",\r\n                headers: { \"Content-Type\": \"application/json\" },\r\n                body: JSON.stringify({\r\n                    instructionId,\r\n                    returnResults: true // Request results back\r\n                }),\r\n            });\r\n\r\n            if (!scrapeResponse.ok) {\r\n                throw new Error(\"Scrape failed\");\r\n            }\r\n\r\n            const data = await scrapeResponse.json();\r\n            const jobResult = data.jobs[0];\r\n\r\n            if (jobResult.status === \"failed\") {\r\n                throw new Error(\"Scrape job failed\");\r\n            }\r\n\r\n            if (jobResult.data) {\r\n                setLiveResults(jobResult.data);\r\n                showMessage('success', ` Run successful! Found ${jobResult.data.length} items.`);\r\n            } else {\r\n                showMessage('success', ' Run successful! (No data returned)');\r\n            }\r\n\r\n        } catch (error) {\r\n            console.error(\"Failed to run task:\", error);\r\n            showMessage('error', ' Failed to run task. Please try again.');\r\n        } finally {\r\n            setIsRunning(false);\r\n        }\r\n    };\r\n\r\n    const getStatusIcon = () => {\r\n        switch (pendingTask.validation_status) {\r\n            case \"success\":\r\n                return <CheckCircle2 className=\"h-6 w-6 text-green-600\" />;\r\n            case \"warning\":\r\n                return <AlertTriangle className=\"h-6 w-6 text-yellow-600\" />;\r\n            case \"error\":\r\n                return <XCircle className=\"h-6 w-6 text-red-600\" />;\r\n            default:\r\n                return null;\r\n        }\r\n    };\r\n\r\n    const getStatusColor = () => {\r\n        switch (pendingTask.validation_status) {\r\n            case \"success\":\r\n                return \"bg-green-50 border-green-200 dark:bg-green-950 dark:border-green-800\";\r\n            case \"warning\":\r\n                return \"bg-yellow-50 border-yellow-200 dark:bg-yellow-950 dark:border-yellow-800\";\r\n            case \"error\":\r\n                return \"bg-red-50 border-red-200 dark:bg-red-950 dark:border-red-800\";\r\n            default:\r\n                return \"\";\r\n        }\r\n    };\r\n\r\n    const getStatusText = () => {\r\n        switch (pendingTask.validation_status) {\r\n            case \"success\":\r\n                return \"Validation Successful\";\r\n            case \"warning\":\r\n                return \"Validation Passed with Warnings\";\r\n            case \"error\":\r\n                return \"Validation Failed\";\r\n            default:\r\n                return \"Unknown Status\";\r\n        }\r\n    };\r\n\r\n    // Determine if approve should be enabled\r\n    // Enabled if: (Status is NOT error) OR (Live run was successful)\r\n    const canApprove = pendingTask.validation_status !== \"error\" || (liveResults && liveResults.length > 0);\r\n\r\n    return (\r\n        <div className=\"space-y-6\">\r\n            <Card className={`border-2 ${getStatusColor()}`}>\r\n                <CardHeader>\r\n                    <div className=\"flex items-center gap-3\">\r\n                        {getStatusIcon()}\r\n                        <div className=\"flex-1\">\r\n                            <CardTitle>{getStatusText()}</CardTitle>\r\n                            <CardDescription className=\"mt-1\">\r\n                                {pendingTask.validation_status === \"success\" && \"Your task is ready to be activated!\"}\r\n                                {pendingTask.validation_status === \"warning\" && \"Review the warnings and suggestions below.\"}\r\n                                {pendingTask.validation_status === \"error\" && \"Please fix the errors before activating.\"}\r\n                            </CardDescription>\r\n                        </div>\r\n                        <Badge variant={pendingTask.validation_status === \"success\" ? \"default\" : \"secondary\"}>\r\n                            {pendingTask.test_result_count} results found\r\n                        </Badge>\r\n                    </div>\r\n                </CardHeader>\r\n            </Card>\r\n\r\n            {message && (\r\n                <div className={`p-4 rounded-lg ${message.type === 'success' ? 'bg-green-50 dark:bg-green-950 border border-green-200 dark:border-green-800 text-green-800 dark:text-green-200' : 'bg-red-50 dark:bg-red-950 border border-red-200 dark:border-red-800 text-red-800 dark:text-red-200'}`}>\r\n                    {message.text}\r\n                </div>\r\n            )}\r\n\r\n            {isEditing ? (\r\n                <InlineTaskEditor\r\n                    pendingTask={pendingTask}\r\n                    onCancel={() => setIsEditing(false)}\r\n                    onSaved={() => {\r\n                        setIsEditing(false);\r\n                        router.refresh();\r\n                    }}\r\n                />\r\n            ) : (\r\n                <Card>\r\n                    <CardHeader>\r\n                        <div className=\"flex items-center justify-between\">\r\n                            <CardTitle>Task Details</CardTitle>\r\n                            <Button variant=\"outline\" size=\"sm\" onClick={() => setIsEditing(true)}>\r\n                                <Edit className=\"h-4 w-4 mr-2\" />\r\n                                Edit\r\n                            </Button>\r\n                        </div>\r\n                    </CardHeader>\r\n                    <CardContent className=\"space-y-4\">\r\n                        <div>\r\n                            <label className=\"text-sm font-medium text-muted-foreground\">URL</label>\r\n                            <p className=\"text-sm mt-1 font-mono break-all\">{pendingTask.url}</p>\r\n                        </div>\r\n                        {pendingTask.title && (\r\n                            <div>\r\n                                <label className=\"text-sm font-medium text-muted-foreground\">Title</label>\r\n                                <p className=\"text-sm mt-1\">{pendingTask.title}</p>\r\n                            </div>\r\n                        )}\r\n                        <div>\r\n                            <label className=\"text-sm font-medium text-muted-foreground\">Instruction</label>\r\n                            <p className=\"text-sm mt-1\">{pendingTask.instruction_text}</p>\r\n                        </div>\r\n                        <div>\r\n                            <label className=\"text-sm font-medium text-muted-foreground\">Schedule</label>\r\n                            <p className=\"text-sm mt-1\">Every {pendingTask.schedule_interval_hours} hours</p>\r\n                        </div>\r\n                        {pendingTask.parsed_instruction && (\r\n                            <div>\r\n                                <label className=\"text-sm font-medium text-muted-foreground\">Parsed Intent</label>\r\n                                <div className=\"text-sm mt-1 space-y-1\">\r\n                                    <p>\r\n                                         Result Limit: <span className=\"font-medium\">{pendingTask.parsed_instruction.resultLimit}</span>\r\n                                        {pendingTask.parsed_instruction.hasExplicitLimit && \" (user-specified)\"}\r\n                                    </p>\r\n                                    {pendingTask.parsed_instruction.requestedFields?.length > 0 && (\r\n                                        <p>\r\n                                             Fields: <span className=\"font-medium\">{pendingTask.parsed_instruction.requestedFields.join(\", \")}</span>\r\n                                        </p>\r\n                                    )}\r\n                                    {pendingTask.parsed_instruction.sorting?.order && (\r\n                                        <p>\r\n                                             Sorting: <span className=\"font-medium\">{pendingTask.parsed_instruction.sorting.order}</span>\r\n                                        </p>\r\n                                    )}\r\n                                </div>\r\n                            </div>\r\n                        )}\r\n                    </CardContent>\r\n                </Card>\r\n            )}\r\n\r\n            {(pendingTask.validation_errors.length > 0 ||\r\n                pendingTask.validation_warnings.length > 0 ||\r\n                pendingTask.ai_suggestions.length > 0) && (\r\n                    <ValidationSuggestions\r\n                        errors={pendingTask.validation_errors}\r\n                        warnings={pendingTask.validation_warnings}\r\n                        suggestions={pendingTask.ai_suggestions}\r\n                        onRegenerate={handleRegenerate}\r\n                        isRegenerating={isRegenerating}\r\n                    />\r\n                )}\r\n\r\n            {/* Live Run Results */}\r\n            {liveResults && (\r\n                <div className=\"space-y-4 border-2 border-blue-200 dark:border-blue-800 rounded-lg p-4 bg-blue-50/50 dark:bg-blue-950/20\">\r\n                    <div>\r\n                        <div className=\"flex items-center gap-2\">\r\n                            <CheckCircle2 className=\"h-5 w-5 text-blue-600\" />\r\n                            <h2 className=\"text-xl font-bold text-blue-900 dark:text-blue-100\">Live Run Results</h2>\r\n                        </div>\r\n                        <p className=\"text-blue-700 dark:text-blue-300 mt-1\">\r\n                            Successfully scraped {liveResults.length} items. You can now approve this task.\r\n                        </p>\r\n                    </div>\r\n\r\n                    <div className=\"grid gap-4 md:grid-cols-2 lg:grid-cols-3\">\r\n                        {/* eslint-disable-next-line @typescript-eslint/no-explicit-any */}\r\n                        {liveResults.map((result: any, index: number) => (\r\n                            <TaskPreviewCard key={`live-${index}`} result={result} index={index} />\r\n                        ))}\r\n                    </div>\r\n                </div>\r\n            )}\r\n\r\n            {/* Test Results Preview (Hide if live results are shown to avoid clutter, or keep both?) */}\r\n            {/* Keeping both for comparison, but maybe collapsed? For now, keep as is. */}\r\n            {!liveResults && pendingTask.test_results && pendingTask.test_results.length > 0 && (\r\n                <div className=\"space-y-4\">\r\n                    <div>\r\n                        <h2 className=\"text-2xl font-bold\">Test Scrape Results</h2>\r\n                        <p className=\"text-muted-foreground mt-1\">\r\n                            Preview of {pendingTask.test_result_count} results that will be scraped\r\n                        </p>\r\n                    </div>\r\n\r\n                    <div className=\"grid gap-4 md:grid-cols-2 lg:grid-cols-3\">\r\n                        {/* eslint-disable-next-line @typescript-eslint/no-explicit-any */}\r\n                        {pendingTask.test_results.map((result: any, index: number) => (\r\n                            <TaskPreviewCard key={index} result={result} index={index} />\r\n                        ))}\r\n                    </div>\r\n                </div>\r\n            )}\r\n\r\n            <Card>\r\n                <CardContent className=\"pt-6\">\r\n                    <div className=\"flex gap-3 justify-end flex-wrap\">\r\n                        <Button\r\n                            variant=\"outline\"\r\n                            onClick={handleReject}\r\n                            disabled={isRejecting || isApproving || isRegenerating || isRunning}\r\n                        >\r\n                            {isRejecting ? (\r\n                                <>\r\n                                    <Loader2 className=\"h-4 w-4 mr-2 animate-spin\" />\r\n                                    Rejecting...\r\n                                </>\r\n                            ) : (\r\n                                <>\r\n                                    <ThumbsDown className=\"h-4 w-4 mr-2\" />\r\n                                    Reject\r\n                                </>\r\n                            )}\r\n                        </Button>\r\n\r\n                        <Button\r\n                            variant=\"outline\"\r\n                            onClick={handleRegenerate}\r\n                            disabled={isRejecting || isApproving || isRegenerating || isRunning}\r\n                        >\r\n                            {isRegenerating ? (\r\n                                <>\r\n                                    <Loader2 className=\"h-4 w-4 mr-2 animate-spin\" />\r\n                                    Regenerating...\r\n                                </>\r\n                            ) : (\r\n                                <>\r\n                                    <RefreshCw className=\"h-4 w-4 mr-2\" />\r\n                                    Regenerate Schema\r\n                                </>\r\n                            )}\r\n                        </Button>\r\n\r\n                        <Button\r\n                            variant=\"outline\"\r\n                            onClick={() => setIsEditing(true)}\r\n                            disabled={isRejecting || isApproving || isRegenerating || isRunning}\r\n                        >\r\n                            <Edit className=\"h-4 w-4 mr-2\" />\r\n                            Edit & Re-validate\r\n                        </Button>\r\n\r\n                        <Button\r\n                            variant=\"outline\"\r\n                            onClick={handleRun}\r\n                            disabled={isRejecting || isApproving || isRegenerating || isRunning}\r\n                            title=\"Run a live test scrape\"\r\n                        >\r\n                            {isRunning ? (\r\n                                <>\r\n                                    <Loader2 className=\"h-4 w-4 mr-2 animate-spin\" />\r\n                                    Running...\r\n                                </>\r\n                            ) : (\r\n                                <>\r\n                                    <Play className=\"h-4 w-4 mr-2\" />\r\n                                    Run Now\r\n                                </>\r\n                            )}\r\n                        </Button>\r\n\r\n                        <Button\r\n                            onClick={handleApprove}\r\n                            disabled={!canApprove || isRejecting || isApproving || isRegenerating || isRunning}\r\n                            className={canApprove ? \"bg-green-600 hover:bg-green-700\" : \"\"}\r\n                        >\r\n                            {isApproving ? (\r\n                                <>\r\n                                    <Loader2 className=\"h-4 w-4 mr-2 animate-spin\" />\r\n                                    Approving...\r\n                                </>\r\n                            ) : (\r\n                                <>\r\n                                    <ThumbsUp className=\"h-4 w-4 mr-2\" />\r\n                                    Approve & Activate\r\n                                </>\r\n                            )}\r\n                        </Button>\r\n                    </div>\r\n\r\n                    {!canApprove && (\r\n                        <p className=\"text-sm text-red-600 dark:text-red-400 mt-3 text-right\">\r\n                            Fix errors or run a successful test (\"Run Now\") to enable approval.\r\n                        </p>\r\n                    )}\r\n                </CardContent>\r\n            </Card>\r\n        </div>\r\n    );\r\n}\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\DELL\\Desktop\\2343053\\ScrapeSense-main\\components\\dashboard\\top-nav.tsx","messages":[],"suppressedMessages":[{"ruleId":"react-hooks/set-state-in-effect","severity":2,"message":"Error: Calling setState synchronously within an effect can trigger cascading renders\n\nEffects are intended to synchronize state between React and external systems such as manually updating the DOM, state management libraries, or other platform APIs. In general, the body of an effect should do one or both of the following:\n* Update external systems with the latest state from React.\n* Subscribe for updates from some external system, calling setState in a callback function when external state changes.\n\nCalling setState synchronously within an effect body causes cascading renders that can hurt performance, and is not recommended. (https://react.dev/learn/you-might-not-need-an-effect).\n\nC:\\Users\\DELL\\Desktop\\2343053\\ScrapeSense-main\\components\\dashboard\\top-nav.tsx:29:7\n  27 |     if (typeof window === \"undefined\" || typeof Notification === \"undefined\") {\n  28 |       // eslint-disable-next-line react-hooks/set-state-in-effect\n> 29 |       setState(\"unsupported\");\n     |       ^^^^^^^^ Avoid calling setState() directly within an effect\n  30 |       return;\n  31 |     }\n  32 |     const permission = Notification.permission;","line":29,"column":7,"nodeType":null,"endLine":29,"endColumn":15,"suppressions":[{"kind":"directive","justification":""}]}],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\DELL\\Desktop\\2343053\\ScrapeSense-main\\components\\dashboard\\validation-suggestions.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\DELL\\Desktop\\2343053\\ScrapeSense-main\\components\\providers\\app-providers.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\DELL\\Desktop\\2343053\\ScrapeSense-main\\components\\providers\\theme-provider.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\DELL\\Desktop\\2343053\\ScrapeSense-main\\components\\ui\\alert.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\DELL\\Desktop\\2343053\\ScrapeSense-main\\components\\ui\\animated-background.tsx","messages":[],"suppressedMessages":[{"ruleId":"react-hooks/set-state-in-effect","severity":2,"message":"Error: Calling setState synchronously within an effect can trigger cascading renders\n\nEffects are intended to synchronize state between React and external systems such as manually updating the DOM, state management libraries, or other platform APIs. In general, the body of an effect should do one or both of the following:\n* Update external systems with the latest state from React.\n* Subscribe for updates from some external system, calling setState in a callback function when external state changes.\n\nCalling setState synchronously within an effect body causes cascading renders that can hurt performance, and is not recommended. (https://react.dev/learn/you-might-not-need-an-effect).\n\nC:\\Users\\DELL\\Desktop\\2343053\\ScrapeSense-main\\components\\ui\\animated-background.tsx:44:5\n  42 |     // Reading CSS variables is a valid external system sync\n  43 |     // eslint-disable-next-line react-hooks/set-state-in-effect\n> 44 |     setCanvasPalette({\n     |     ^^^^^^^^^^^^^^^^ Avoid calling setState() directly within an effect\n  45 |       particleGlow: computed.getPropertyValue(\"--bg-orbit-particle-glow\").trim() || fallbackPalette.particleGlow,\n  46 |       particleCore: computed.getPropertyValue(\"--bg-orbit-particle-core\").trim() || fallbackPalette.particleCore,\n  47 |       connection: computed.getPropertyValue(\"--bg-orbit-connection-rgb\").trim() || fallbackPalette.connection,","line":44,"column":5,"nodeType":null,"endLine":44,"endColumn":21,"suppressions":[{"kind":"directive","justification":""}]}],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\DELL\\Desktop\\2343053\\ScrapeSense-main\\components\\ui\\badge.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\DELL\\Desktop\\2343053\\ScrapeSense-main\\components\\ui\\button.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\DELL\\Desktop\\2343053\\ScrapeSense-main\\components\\ui\\card.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\DELL\\Desktop\\2343053\\ScrapeSense-main\\components\\ui\\dropdown-menu.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\DELL\\Desktop\\2343053\\ScrapeSense-main\\components\\ui\\input.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\DELL\\Desktop\\2343053\\ScrapeSense-main\\components\\ui\\label.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\DELL\\Desktop\\2343053\\ScrapeSense-main\\components\\ui\\table.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\DELL\\Desktop\\2343053\\ScrapeSense-main\\components\\ui\\textarea.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\DELL\\Desktop\\2343053\\ScrapeSense-main\\components\\ui\\theme-toggle.tsx","messages":[],"suppressedMessages":[{"ruleId":"react-hooks/set-state-in-effect","severity":2,"message":"Error: Calling setState synchronously within an effect can trigger cascading renders\n\nEffects are intended to synchronize state between React and external systems such as manually updating the DOM, state management libraries, or other platform APIs. In general, the body of an effect should do one or both of the following:\n* Update external systems with the latest state from React.\n* Subscribe for updates from some external system, calling setState in a callback function when external state changes.\n\nCalling setState synchronously within an effect body causes cascading renders that can hurt performance, and is not recommended. (https://react.dev/learn/you-might-not-need-an-effect).\n\nC:\\Users\\DELL\\Desktop\\2343053\\ScrapeSense-main\\components\\ui\\theme-toggle.tsx:14:9\n  12 |     useEffect(() => {\n  13 |         // eslint-disable-next-line react-hooks/set-state-in-effect\n> 14 |         setMounted(true);\n     |         ^^^^^^^^^^ Avoid calling setState() directly within an effect\n  15 |     }, []);\n  16 |\n  17 |     if (!mounted) {","line":14,"column":9,"nodeType":null,"endLine":14,"endColumn":19,"suppressions":[{"kind":"directive","justification":""}]}],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\DELL\\Desktop\\2343053\\ScrapeSense-main\\eslint.config.mjs","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\DELL\\Desktop\\2343053\\ScrapeSense-main\\lib\\ai\\cache.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\DELL\\Desktop\\2343053\\ScrapeSense-main\\lib\\ai\\groq.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\DELL\\Desktop\\2343053\\ScrapeSense-main\\lib\\ai\\instruction-parser.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\DELL\\Desktop\\2343053\\ScrapeSense-main\\lib\\ai\\providers.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\DELL\\Desktop\\2343053\\ScrapeSense-main\\lib\\ai\\service.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\DELL\\Desktop\\2343053\\ScrapeSense-main\\lib\\auth\\options.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\DELL\\Desktop\\2343053\\ScrapeSense-main\\lib\\auth\\supabase-adapter.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\DELL\\Desktop\\2343053\\ScrapeSense-main\\lib\\logger.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\DELL\\Desktop\\2343053\\ScrapeSense-main\\lib\\notifications\\email.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\DELL\\Desktop\\2343053\\ScrapeSense-main\\lib\\notifications\\telegram.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\DELL\\Desktop\\2343053\\ScrapeSense-main\\lib\\rate-limit.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\DELL\\Desktop\\2343053\\ScrapeSense-main\\lib\\scraper\\cheerio-inspector.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\DELL\\Desktop\\2343053\\ScrapeSense-main\\lib\\scraper\\cheerio-runner.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\DELL\\Desktop\\2343053\\ScrapeSense-main\\lib\\scraper\\html-inspector.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\DELL\\Desktop\\2343053\\ScrapeSense-main\\lib\\scraper\\runner.ts","messages":[],"suppressedMessages":[{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":13,"column":39,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":13,"endColumn":42,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[314,317],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[314,317],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}],"suppressions":[{"kind":"directive","justification":""}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":40,"column":19,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":40,"endColumn":22,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[962,965],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[962,965],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}],"suppressions":[{"kind":"directive","justification":""}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":103,"column":41,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":103,"endColumn":44,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[3488,3491],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[3488,3491],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}],"suppressions":[{"kind":"directive","justification":""}]}],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\DELL\\Desktop\\2343053\\ScrapeSense-main\\lib\\scraper\\simple-sources.ts","messages":[],"suppressedMessages":[{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":31,"column":32,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":31,"endColumn":35,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[928,931],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[928,931],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}],"suppressions":[{"kind":"directive","justification":""}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":66,"column":43,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":66,"endColumn":46,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[2232,2235],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[2232,2235],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}],"suppressions":[{"kind":"directive","justification":""}]}],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\DELL\\Desktop\\2343053\\ScrapeSense-main\\lib\\scraper\\url-adapter.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\DELL\\Desktop\\2343053\\ScrapeSense-main\\lib\\supabase\\client.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\DELL\\Desktop\\2343053\\ScrapeSense-main\\lib\\supabase\\queries.ts","messages":[{"ruleId":null,"message":"Unused eslint-disable directive (no problems were reported from '@typescript-eslint/no-explicit-any').","line":1,"column":1,"severity":1,"nodeType":null,"fix":{"range":[0,55],"text":" "}},{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'userId' is defined but never used.","line":309,"column":50,"nodeType":null,"messageId":"unusedVar","endLine":309,"endColumn":56}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":1,"source":"/* eslint-disable @typescript-eslint/no-explicit-any */\nimport { createClient } from \"@supabase/supabase-js\";\nimport {\n  InstructionPayload,\n  SettingsPayload,\n} from \"@/lib/validators/task\";\n\nconst supabaseUrl = process.env.NEXT_PUBLIC_SUPABASE_URL;\nconst supabaseKey = process.env.SUPABASE_SERVICE_ROLE_KEY;\n\nif (!supabaseUrl || !supabaseKey) {\n  throw new Error(\"Supabase service client missing env configuration\");\n}\n\nconst serviceClient = createClient(supabaseUrl, supabaseKey, {\n  auth: {\n    autoRefreshToken: false,\n    persistSession: false,\n  },\n});\n\nexport const db = {\n  async getDashboardData(userId: string) {\n    const { data, error } = await serviceClient\n      .from(\"instructions\")\n      .select(\n        `\n        id,\n        instruction_text,\n        schedule_interval_hours,\n        ai_generated_schema,\n        created_at,\n        site:sites (\n          id,\n          url,\n          title,\n          last_health_status\n        ),\n        last_run:scrape_runs!scrape_runs_instruction_id_fkey (\n          run_status,\n          run_time,\n          error_message\n        ),\n        results(count)\n      `,\n      )\n      .eq(\"site.user_id\", userId)\n      .limit(10);\n\n    if (error) {\n      throw error;\n    }\n    return data;\n  },\n\n  async getResults(userId: string, instructionIds?: string[]) {\n    console.log(`[Query] Fetching results for user ${userId}`);\n\n    let query = serviceClient\n      .from(\"results\")\n      .select(`\n              id,\n              title,\n              description,\n              url,\n              metadata,\n              created_at,\n              instruction_id,\n              ai_summary\n          `)\n      .order(\"created_at\", { ascending: false })\n      .limit(200);\n\n    if (instructionIds && instructionIds.length > 0) {\n      query = query.in(\"instruction_id\", instructionIds);\n    } else {\n      // Fallback to filtering by user via join if no IDs provided (though we should always provide IDs)\n      // But simpler to just return empty if no instructions found\n      return [];\n    }\n\n    const { data, error } = await query;\n\n    if (error) {\n      console.error(\"[Query] Error fetching results:\", error);\n      throw error;\n    }\n\n    console.log(`[Query] Found ${data?.length || 0} total results`);\n    return data || [];\n  },\n\n  async getChangeLogs(userId: string) {\n    const { data, error } = await serviceClient\n      .from(\"change_logs\")\n      .select(\n        `\n        id,\n        change_type,\n        created_at,\n        new_value,\n        result:results!inner (\n          id,\n          title,\n          url,\n          instruction:instructions!inner (\n            site:sites!inner ( user_id )\n          )\n        )\n      `,\n      )\n      .eq(\"result.instruction.site.user_id\", userId)\n      .order(\"created_at\", { ascending: false })\n      .limit(50);\n    if (error) throw error;\n    return data;\n  },\n\n  async getSettings(userId: string) {\n    const { data, error } = await serviceClient\n      .from(\"settings\")\n      .select(\"*\")\n      .eq(\"user_id\", userId)\n      .single();\n\n    if (error && error.code !== \"PGRST116\") {\n      throw error;\n    }\n    return data ?? null;\n  },\n\n  async saveSettings(userId: string, payload: SettingsPayload) {\n    const existing = await serviceClient\n      .from(\"settings\")\n      .select(\"*\")\n      .eq(\"user_id\", userId)\n      .single()\n      .then((res) => (res.error ? null : res.data));\n    if (existing) {\n      const { error } = await serviceClient\n        .from(\"settings\")\n        .update({\n          telegram_chat_id: payload.telegramChatId,\n          notification_email: payload.notificationEmail,\n          alert_threshold: payload.alertThreshold,\n          updated_at: new Date().toISOString(),\n        })\n        .eq(\"user_id\", userId);\n      if (error) throw error;\n      return this.getSettings(userId);\n    }\n\n    const { data, error } = await serviceClient\n      .from(\"settings\")\n      .insert({\n        user_id: userId,\n        telegram_chat_id: payload.telegramChatId,\n        notification_email: payload.notificationEmail,\n        alert_threshold: payload.alertThreshold,\n      })\n      .select()\n      .single();\n    if (error) throw error;\n    return data;\n  },\n\n  async upsertSite(payload: { url: string; title?: string; userId: string }) {\n    const existing = await serviceClient\n      .from(\"sites\")\n      .select(\"*\")\n      .eq(\"user_id\", payload.userId)\n      .eq(\"url\", payload.url)\n      .maybeSingle();\n    if (existing.data) {\n      return existing.data;\n    }\n\n    const { data, error } = await serviceClient\n      .from(\"sites\")\n      .insert({\n        url: payload.url,\n        title: payload.title,\n        user_id: payload.userId,\n      })\n      .select()\n      .single();\n    if (error) throw error;\n    return data;\n  },\n\n  async updateInstruction(id: string, payload: { aiSchema: Record<string, unknown> }) {\n    const { data, error } = await serviceClient\n      .from(\"instructions\")\n      .update({\n        ai_generated_schema: payload.aiSchema,\n      })\n      .eq(\"id\", id)\n      .select()\n      .single();\n    if (error) throw error;\n    return data;\n  },\n\n  async createInstruction(\n    payload: InstructionPayload & { userId: string; aiSchema?: Record<string, unknown> },\n  ) {\n    const { data, error } = await serviceClient\n      .from(\"instructions\")\n      .insert({\n        site_id: payload.siteId,\n        instruction_text: payload.instructionText,\n        schedule_interval_hours: payload.scheduleIntervalHours,\n        ai_generated_schema: payload.aiSchema ?? null,\n      })\n      .select()\n      .single();\n    if (error) throw error;\n    return data;\n  },\n\n  async logScrapeRun({\n    instructionId,\n    status,\n    errorMessage,\n    durationMs,\n  }: {\n    instructionId: string;\n    status: string;\n    errorMessage?: string;\n    durationMs?: number;\n  }) {\n    const { data, error } = await serviceClient\n      .from(\"scrape_runs\")\n      .insert({\n        instruction_id: instructionId,\n        run_status: status,\n        error_message: errorMessage ?? null,\n        duration_ms: durationMs ?? null,\n      })\n      .select()\n      .single();\n    if (error) throw error;\n    return data;\n  },\n\n  async insertResults(\n    instructionId: string,\n    results: Array<{\n      title: string;\n      description?: string;\n      url: string;\n      metadata?: Record<string, unknown>;\n      ai_summary?: string;\n    }>,\n  ) {\n    if (results.length === 0) return [];\n    const payload = results.map((result) => ({\n      instruction_id: instructionId,\n      title: result.title,\n      description: result.description ?? null,\n      url: result.url,\n      metadata: result.metadata ?? {},\n      ai_summary: result.ai_summary ?? null,\n    }));\n    const { data, error } = await serviceClient\n      .from(\"results\")\n      .insert(payload)\n      .select();\n    if (error) throw error;\n    return data;\n  },\n\n  async getActiveInstructions() {\n    const { data, error } = await serviceClient\n      .from(\"instructions\")\n      .select(\n        `\n        id,\n        instruction_text,\n        ai_generated_schema,\n        schedule_interval_hours,\n        site:sites (\n          id,\n          url,\n          user_id,\n          title,\n          last_health_status\n        ),\n        last_run:scrape_runs (\n          run_time\n        )\n      `,\n      )\n      .eq(\"is_active\", true)\n      .order(\"run_time\", { foreignTable: \"scrape_runs\", ascending: false })\n      .limit(1, { foreignTable: \"scrape_runs\" });\n    if (error) throw error;\n    return data;\n  },\n\n  async updateSiteHealth(siteId: string, status: \"healthy\" | \"degraded\" | \"failed\") {\n    const { error } = await serviceClient\n      .from(\"sites\")\n      .update({ last_health_status: status })\n      .eq(\"id\", siteId);\n    if (error) throw error;\n  },\n\n  async deleteInstruction(instructionId: string, userId: string) {\n    console.log(`[Delete] Attempting to delete instruction ${instructionId}`);\n\n    // Delete the instruction directly (cascade will handle results and scrape_runs)\n    const { error: deleteError } = await serviceClient\n      .from(\"instructions\")\n      .delete()\n      .eq(\"id\", instructionId);\n\n    if (deleteError) {\n      console.error(`[Delete] Error deleting instruction:`, deleteError);\n      throw deleteError;\n    }\n\n    console.log(`[Delete] Successfully deleted instruction ${instructionId}`);\n  },\n\n  // ============================================\n  // Pending Tasks (Task Validation Workflow)\n  // ============================================\n\n  async createPendingTask(payload: {\n    userId: string;\n    url: string;\n    title?: string;\n    instructionText: string;\n    scheduleIntervalHours: number;\n    aiGeneratedSchema?: Record<string, unknown>;\n    parsedInstruction?: Record<string, unknown>;\n    validationStatus: string;\n    validationErrors?: unknown[];\n    validationWarnings?: unknown[];\n    aiSuggestions?: unknown[];\n    testResults?: unknown[];\n    testResultCount?: number;\n  }) {\n    const { data, error } = await serviceClient\n      .from(\"pending_tasks\")\n      .insert({\n        user_id: payload.userId,\n        url: payload.url,\n        title: payload.title ?? null,\n        instruction_text: payload.instructionText,\n        schedule_interval_hours: payload.scheduleIntervalHours,\n        ai_generated_schema: payload.aiGeneratedSchema ?? null,\n        parsed_instruction: payload.parsedInstruction ?? null,\n        validation_status: payload.validationStatus,\n        validation_errors: payload.validationErrors ?? [],\n        validation_warnings: payload.validationWarnings ?? [],\n        ai_suggestions: payload.aiSuggestions ?? [],\n        test_results: payload.testResults ?? [],\n        test_result_count: payload.testResultCount ?? 0,\n      })\n      .select()\n      .single();\n\n    if (error) throw error;\n    return data;\n  },\n\n  async getPendingTasks(userId: string) {\n    const { data, error } = await serviceClient\n      .from(\"pending_tasks\")\n      .select(\"*\")\n      .eq(\"user_id\", userId)\n      .order(\"created_at\", { ascending: false });\n\n    if (error) throw error;\n    return data || [];\n  },\n\n  async getPendingTask(id: string, userId: string) {\n    const { data, error } = await serviceClient\n      .from(\"pending_tasks\")\n      .select(\"*\")\n      .eq(\"id\", id)\n      .eq(\"user_id\", userId)\n      .single();\n\n    if (error) throw error;\n    return data;\n  },\n\n  async updatePendingTask(\n    id: string,\n    userId: string,\n    payload: {\n      url?: string;\n      title?: string;\n      instructionText?: string;\n      scheduleIntervalHours?: number;\n      aiGeneratedSchema?: Record<string, unknown>;\n      parsedInstruction?: Record<string, unknown>;\n      validationStatus?: string;\n      validationErrors?: unknown[];\n      validationWarnings?: unknown[];\n      aiSuggestions?: unknown[];\n      testResults?: unknown[];\n      testResultCount?: number;\n    }\n  ) {\n    const updateData: Record<string, unknown> = {\n      updated_at: new Date().toISOString(),\n    };\n\n    if (payload.url !== undefined) updateData.url = payload.url;\n    if (payload.title !== undefined) updateData.title = payload.title;\n    if (payload.instructionText !== undefined) updateData.instruction_text = payload.instructionText;\n    if (payload.scheduleIntervalHours !== undefined) updateData.schedule_interval_hours = payload.scheduleIntervalHours;\n    if (payload.aiGeneratedSchema !== undefined) updateData.ai_generated_schema = payload.aiGeneratedSchema;\n    if (payload.parsedInstruction !== undefined) updateData.parsed_instruction = payload.parsedInstruction;\n    if (payload.validationStatus !== undefined) updateData.validation_status = payload.validationStatus;\n    if (payload.validationErrors !== undefined) updateData.validation_errors = payload.validationErrors;\n    if (payload.validationWarnings !== undefined) updateData.validation_warnings = payload.validationWarnings;\n    if (payload.aiSuggestions !== undefined) updateData.ai_suggestions = payload.aiSuggestions;\n    if (payload.testResults !== undefined) updateData.test_results = payload.testResults;\n    if (payload.testResultCount !== undefined) updateData.test_result_count = payload.testResultCount;\n\n    const { data, error } = await serviceClient\n      .from(\"pending_tasks\")\n      .update(updateData)\n      .eq(\"id\", id)\n      .eq(\"user_id\", userId)\n      .select()\n      .single();\n\n    if (error) throw error;\n    return data;\n  },\n\n  async deletePendingTask(id: string, userId: string) {\n    const { error } = await serviceClient\n      .from(\"pending_tasks\")\n      .delete()\n      .eq(\"id\", id)\n      .eq(\"user_id\", userId);\n\n    if (error) throw error;\n  },\n\n  async approvePendingTask(id: string, userId: string) {\n    // Get the pending task\n    const pendingTask = await this.getPendingTask(id, userId);\n\n    // Create the site\n    const site = await this.upsertSite({\n      url: pendingTask.url,\n      title: pendingTask.title ?? undefined,\n      userId,\n    });\n\n    // Create the instruction\n    const instruction = await this.createInstruction({\n      siteId: site.id,\n      instructionText: pendingTask.instruction_text,\n      scheduleIntervalHours: pendingTask.schedule_interval_hours,\n      aiSchema: pendingTask.ai_generated_schema as Record<string, unknown>,\n      userId,\n    });\n\n    // Delete the pending task\n    await this.deletePendingTask(id, userId);\n\n    return instruction;\n  },\n};\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\DELL\\Desktop\\2343053\\ScrapeSense-main\\lib\\supabase\\service.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\DELL\\Desktop\\2343053\\ScrapeSense-main\\lib\\utils.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\DELL\\Desktop\\2343053\\ScrapeSense-main\\lib\\validators\\task-validator.ts","messages":[{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'title' is defined but never used.","line":94,"column":5,"nodeType":null,"messageId":"unusedVar","endLine":94,"endColumn":10},{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'error' is defined but never used.","line":314,"column":14,"nodeType":null,"messageId":"unusedVar","endLine":314,"endColumn":19},{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'schema' is defined but never used.","line":404,"column":5,"nodeType":null,"messageId":"unusedVar","endLine":404,"endColumn":11}],"suppressedMessages":[{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":224,"column":72,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":224,"endColumn":75,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[7478,7481],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[7478,7481],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}],"suppressions":[{"kind":"directive","justification":""}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":354,"column":50,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":354,"endColumn":53,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[12014,12017],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[12014,12017],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}],"suppressions":[{"kind":"directive","justification":""}]}],"errorCount":0,"fatalErrorCount":0,"warningCount":3,"fixableErrorCount":0,"fixableWarningCount":0,"source":"/**\r\n * Task validation logic\r\n * Validates tasks, runs test scrapes, and generates AI suggestions\r\n */\r\n\r\nimport { parseInstruction, type ParsedInstruction } from \"@/lib/ai/instruction-parser\";\r\nimport { generateSchemaFromHTML } from \"@/lib/ai/service\";\r\nimport { runScrapeCheerio } from \"@/lib/scraper/cheerio-runner\";\r\nimport { adaptUrlForCheerio } from \"@/lib/scraper/url-adapter\";\r\nimport axios from \"axios\";\r\nimport * as cheerio from \"cheerio\";\r\n\r\nexport interface ValidationResult {\r\n    status: \"success\" | \"warning\" | \"error\";\r\n    errors: string[];\r\n    warnings: string[];\r\n    suggestions: string[];\r\n    parsedInstruction: ParsedInstruction;\r\n    adaptedUrl?: string; // The Cheerio-friendly URL (if adapted)\r\n    schema?: Record<string, unknown>;\r\n    testResults?: Array<{\r\n        title: string;\r\n        description?: string;\r\n        url: string;\r\n        metadata?: Record<string, unknown>;\r\n    }>;\r\n    testResultCount: number;\r\n}\r\n\r\n/**\r\n * Simple HTML pattern extraction using cheerio\r\n */\r\nfunction extractHTMLPatterns(html: string): {\r\n    dataTestAttributes: string[];\r\n    dataTestIdAttributes: string[];\r\n    commonClasses: string[];\r\n    repeatingSelectors: string[];\r\n    semanticTags: string[];\r\n} {\r\n    const $ = cheerio.load(html);\r\n\r\n    const patterns = {\r\n        dataTestAttributes: [] as string[],\r\n        dataTestIdAttributes: [] as string[],\r\n        commonClasses: [] as string[],\r\n        repeatingSelectors: [] as string[],\r\n        semanticTags: [] as string[],\r\n    };\r\n\r\n    // Find data-test attributes\r\n    $('[data-test]').each((_, el) => {\r\n        const attr = $(el).attr('data-test');\r\n        if (attr) patterns.dataTestAttributes.push(attr);\r\n    });\r\n\r\n    // Find data-testid attributes\r\n    $('[data-testid]').each((_, el) => {\r\n        const attr = $(el).attr('data-testid');\r\n        if (attr) patterns.dataTestIdAttributes.push(attr);\r\n    });\r\n\r\n    // Find common classes\r\n    const classMap = new Map<string, number>();\r\n    $('[class]').each((_, el) => {\r\n        const classes = $(el).attr('class')?.split(' ').filter(c => c.trim()) || [];\r\n        classes.forEach(cls => {\r\n            classMap.set(cls, (classMap.get(cls) || 0) + 1);\r\n        });\r\n    });\r\n    patterns.commonClasses = Array.from(classMap.entries())\r\n        .filter(([, count]) => count >= 3)\r\n        .sort((a, b) => b[1] - a[1])\r\n        .slice(0, 30)\r\n        .map(([cls]) => cls);\r\n\r\n    // Find semantic tags\r\n    const semanticSelectors = ['article', 'section', 'main', 'aside', 'nav', 'header', 'footer'];\r\n    semanticSelectors.forEach(tag => {\r\n        const count = $(tag).length;\r\n        if (count > 0) {\r\n            patterns.semanticTags.push(`${tag} (${count})`);\r\n        }\r\n    });\r\n\r\n    return patterns;\r\n}\r\n\r\n/**\r\n * Validate a task and run test scrape\r\n */\r\nexport async function validateTask(\r\n    url: string,\r\n    instruction: string,\r\n    title?: string\r\n): Promise<ValidationResult> {\r\n    const errors: string[] = [];\r\n    const warnings: string[] = [];\r\n    const suggestions: string[] = [];\r\n\r\n    // Step 1: Parse instruction with NLP\r\n    console.log(\"[Validator] Parsing instruction...\");\r\n    const parsedInstruction = parseInstruction(instruction);\r\n\r\n    // Step 2: Validate URL\r\n    console.log(\"[Validator] Validating URL...\");\r\n    const urlValidation = await validateURL(url);\r\n    if (!urlValidation.valid) {\r\n        errors.push(urlValidation.error!);\r\n        return {\r\n            status: \"error\",\r\n            errors,\r\n            warnings,\r\n            suggestions,\r\n            parsedInstruction,\r\n            testResultCount: 0,\r\n        };\r\n    }\r\n\r\n    // Step 3: Check instruction clarity\r\n    if (parsedInstruction.clarity.isVague) {\r\n        warnings.push(\"Instruction may be too vague. Consider being more specific.\");\r\n        suggestions.push(...parsedInstruction.clarity.missingSuggestions);\r\n    }\r\n\r\n    // Step 3.5: Adapt URL for Cheerio if needed\r\n    console.log(\"[Validator] Checking if URL needs adaptation...\");\r\n    const urlAdaptation = adaptUrlForCheerio(url);\r\n    let actualUrl = url;\r\n\r\n    if (urlAdaptation.adapted !== url) {\r\n        actualUrl = urlAdaptation.adapted;\r\n        warnings.push(`URL adapted for better scraping: ${urlAdaptation.reason}`);\r\n        suggestions.push(`Using ${urlAdaptation.type.toUpperCase()} version: ${actualUrl}`);\r\n        console.log(`[Validator]  URL adapted: ${url}  ${actualUrl}`);\r\n    }\r\n\r\n    // Step 4: Fetch and inspect HTML\r\n    console.log(\"[Validator] Fetching and inspecting HTML...\");\r\n    let htmlSnippet = \"\";\r\n    let patterns: {\r\n        dataTestAttributes: string[];\r\n        dataTestIdAttributes: string[];\r\n        commonClasses: string[];\r\n        repeatingSelectors: string[];\r\n        semanticTags: string[];\r\n    } = {\r\n        dataTestAttributes: [],\r\n        dataTestIdAttributes: [],\r\n        commonClasses: [],\r\n        repeatingSelectors: [],\r\n        semanticTags: [],\r\n    };\r\n\r\n    try {\r\n        const response = await axios.get(actualUrl, {\r\n            headers: {\r\n                \"User-Agent\": process.env.SCRAPER_DEFAULT_USER_AGENT || \"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36\",\r\n            },\r\n            timeout: 15000,\r\n        });\r\n        htmlSnippet = response.data;\r\n        patterns = extractHTMLPatterns(htmlSnippet);\r\n\r\n        // Check if we found any useful patterns\r\n        if (\r\n            patterns.dataTestAttributes.length === 0 &&\r\n            patterns.dataTestIdAttributes.length === 0 &&\r\n            patterns.commonClasses.length === 0\r\n        ) {\r\n            warnings.push(\"Page structure is complex. AI may need multiple attempts to generate accurate selectors.\");\r\n        }\r\n    } catch (error) {\r\n        errors.push(`Failed to fetch page: ${error instanceof Error ? error.message : \"Unknown error\"}`);\r\n        return {\r\n            status: \"error\",\r\n            errors,\r\n            warnings,\r\n            suggestions,\r\n            parsedInstruction,\r\n            testResultCount: 0,\r\n        };\r\n    }\r\n\r\n    // Step 5: Generate AI schema with enhanced context\r\n    console.log(\"[Validator] Generating AI schema...\");\r\n    let schema: Record<string, unknown>;\r\n    try {\r\n        schema = await generateSchemaFromHTML({\r\n            url,\r\n            instruction,\r\n            htmlSnippet,\r\n            patterns,\r\n        });\r\n\r\n        // Validate schema structure\r\n        const schemaValidation = validateSchema(schema);\r\n        if (!schemaValidation.valid) {\r\n            errors.push(schemaValidation.error!);\r\n            suggestions.push(\"Try regenerating the schema or simplifying your instruction.\");\r\n        }\r\n    } catch (error) {\r\n        errors.push(`AI schema generation failed: ${error instanceof Error ? error.message : \"Unknown error\"}`);\r\n        return {\r\n            status: \"error\",\r\n            errors,\r\n            warnings,\r\n            suggestions,\r\n            parsedInstruction,\r\n            testResultCount: 0,\r\n        };\r\n    }\r\n\r\n    // Step 6: Run test scrape with intelligent limiting\r\n    console.log(`[Validator] Running test scrape (limit: ${parsedInstruction.resultLimit})...`);\r\n    let testResults: Array<{\r\n        title: string;\r\n        description?: string;\r\n        url: string;\r\n        metadata?: Record<string, unknown>;\r\n    }> = [];\r\n\r\n    try {\r\n        // eslint-disable-next-line @typescript-eslint/no-explicit-any\r\n        const allResults = await runScrapeCheerio(actualUrl, schema as any);\r\n\r\n        // Apply intelligent result limiting\r\n        testResults = allResults.slice(0, parsedInstruction.resultLimit);\r\n\r\n        if (testResults.length === 0) {\r\n            errors.push(\"Test scrape returned no results. The selectors may be incorrect.\");\r\n            suggestions.push(\"Try one of these:\");\r\n            suggestions.push(\" Simplify your instruction to focus on the main content\");\r\n            suggestions.push(\" Check if the URL is correct and accessible\");\r\n            suggestions.push(\" Try a different page on the same site\");\r\n        } else if (testResults.length < parsedInstruction.resultLimit && parsedInstruction.hasExplicitLimit) {\r\n            warnings.push(\r\n                `Found only ${testResults.length} results, but you requested ${parsedInstruction.resultLimit}. ` +\r\n                `The page may not have enough items.`\r\n            );\r\n        }\r\n\r\n        // Validate result quality\r\n        const qualityCheck = validateResultQuality(testResults);\r\n        if (qualityCheck.warnings.length > 0) {\r\n            warnings.push(...qualityCheck.warnings);\r\n        }\r\n        if (qualityCheck.suggestions.length > 0) {\r\n            suggestions.push(...qualityCheck.suggestions);\r\n        }\r\n    } catch (error) {\r\n        errors.push(`Test scrape failed: ${error instanceof Error ? error.message : \"Unknown error\"}`);\r\n        suggestions.push(\"The page structure may have changed or the selectors are incorrect.\");\r\n        suggestions.push(\"Try clicking 'Regenerate' to create a new schema.\");\r\n    }\r\n\r\n    // Step 7: Generate AI-powered suggestions\r\n    if (testResults.length > 0) {\r\n        const aiSuggestions = generateAISuggestions(parsedInstruction, testResults, schema);\r\n        suggestions.push(...aiSuggestions);\r\n    }\r\n\r\n    // Determine overall status\r\n    let status: \"success\" | \"warning\" | \"error\" = \"success\";\r\n    if (errors.length > 0) {\r\n        status = \"error\";\r\n    } else if (warnings.length > 0 || suggestions.length > 0) {\r\n        status = \"warning\";\r\n    }\r\n\r\n    return {\r\n        status,\r\n        errors,\r\n        warnings,\r\n        suggestions,\r\n        parsedInstruction,\r\n        adaptedUrl: actualUrl !== url ? actualUrl : undefined,\r\n        schema,\r\n        testResults,\r\n        testResultCount: testResults.length,\r\n    };\r\n}\r\n\r\n/**\r\n * Validate URL format and accessibility\r\n */\r\nasync function validateURL(url: string): Promise<{ valid: boolean; error?: string }> {\r\n    // Check format\r\n    try {\r\n        new URL(url);\r\n    } catch {\r\n        return {\r\n            valid: false,\r\n            error: \"Invalid URL format. Please provide a complete URL (e.g., https://example.com)\",\r\n        };\r\n    }\r\n\r\n    // Check protocol\r\n    if (!url.startsWith(\"http://\") && !url.startsWith(\"https://\")) {\r\n        return {\r\n            valid: false,\r\n            error: \"URL must start with http:// or https://\",\r\n        };\r\n    }\r\n\r\n    // Check accessibility (with timeout)\r\n    try {\r\n        await axios.head(url, {\r\n            timeout: 5000,\r\n            headers: {\r\n                \"User-Agent\": \"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36\",\r\n            },\r\n        });\r\n        return { valid: true };\r\n    } catch (error) {\r\n        // Try GET if HEAD fails (some servers block HEAD requests)\r\n        try {\r\n            await axios.get(url, {\r\n                timeout: 5000,\r\n                headers: {\r\n                    \"User-Agent\": \"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36\",\r\n                },\r\n                maxRedirects: 5,\r\n            });\r\n            return { valid: true };\r\n        } catch {\r\n            return {\r\n                valid: false,\r\n                error: \"URL is not accessible. Please check if the URL is correct and the site is online.\",\r\n            };\r\n        }\r\n    }\r\n}\r\n\r\n/**\r\n * Validate AI-generated schema structure\r\n */\r\nfunction validateSchema(schema: Record<string, unknown>): { valid: boolean; error?: string } {\r\n    if (!schema.selectors || !Array.isArray(schema.selectors)) {\r\n        return {\r\n            valid: false,\r\n            error: \"Invalid schema: missing or invalid 'selectors' array\",\r\n        };\r\n    }\r\n\r\n    if (schema.selectors.length === 0) {\r\n        return {\r\n            valid: false,\r\n            error: \"Invalid schema: 'selectors' array is empty\",\r\n        };\r\n    }\r\n\r\n    // Check first selector (container)\r\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\r\n    const firstSelector = schema.selectors[0] as any;\r\n    if (!firstSelector.selector) {\r\n        return {\r\n            valid: false,\r\n            error: \"Invalid schema: first selector missing 'selector' property\",\r\n        };\r\n    }\r\n\r\n    return { valid: true };\r\n}\r\n\r\n/**\r\n * Validate quality of scraped results\r\n */\r\nfunction validateResultQuality(\r\n    results: Array<{ title: string; description?: string; url: string; metadata?: Record<string, unknown> }>\r\n): { warnings: string[]; suggestions: string[] } {\r\n    const warnings: string[] = [];\r\n    const suggestions: string[] = [];\r\n\r\n    // Check for empty titles\r\n    const emptyTitles = results.filter(r => !r.title || r.title.trim().length === 0).length;\r\n    if (emptyTitles > results.length / 2) {\r\n        warnings.push(\"More than half of the results have empty titles.\");\r\n        suggestions.push(\"Adjust the instruction to specify what should be used as the title.\");\r\n    }\r\n\r\n    // Check for duplicate titles\r\n    const titles = results.map(r => r.title);\r\n    const uniqueTitles = new Set(titles);\r\n    if (uniqueTitles.size < titles.length * 0.8) {\r\n        warnings.push(\"Many results have duplicate titles.\");\r\n        suggestions.push(\"The selector may be too broad. Try being more specific.\");\r\n    }\r\n\r\n    // Check for missing descriptions\r\n    const missingDescriptions = results.filter(r => !r.description || r.description.trim().length === 0).length;\r\n    if (missingDescriptions === results.length) {\r\n        suggestions.push(\"Consider adding 'description' to your instruction for richer data.\");\r\n    }\r\n\r\n    return { warnings, suggestions };\r\n}\r\n\r\n/**\r\n * Generate AI-powered suggestions based on results\r\n */\r\nfunction generateAISuggestions(\r\n    parsed: ParsedInstruction,\r\n    results: Array<{ title: string; description?: string; url: string; metadata?: Record<string, unknown> }>,\r\n    schema: Record<string, unknown>\r\n): string[] {\r\n    const suggestions: string[] = [];\r\n\r\n    // Suggest adding filters if none specified\r\n    if (parsed.filters.length === 0 && results.length > 10) {\r\n        suggestions.push(\" Consider adding filters to narrow down results (e.g., 'with rating > 4')\");\r\n    }\r\n\r\n    // Suggest sorting if not specified\r\n    if (!parsed.sorting.order && results.length > 5) {\r\n        suggestions.push(\" Specify sorting preference for consistent results (e.g., 'latest posts', 'top rated')\");\r\n    }\r\n\r\n    // Suggest specific fields if using defaults\r\n    if (parsed.requestedFields.length <= 3) {\r\n        suggestions.push(\" Request specific fields for richer data (e.g., 'get title, author, date, and rating')\");\r\n    }\r\n\r\n    // Check for HTTPS\r\n    const hasHttp = results.some(r => r.url.startsWith(\"http://\"));\r\n    if (hasHttp) {\r\n        suggestions.push(\" Some URLs use HTTP instead of HTTPS. This may be a security concern.\");\r\n    }\r\n\r\n    return suggestions;\r\n}\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\DELL\\Desktop\\2343053\\ScrapeSense-main\\lib\\validators\\task.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\DELL\\Desktop\\2343053\\ScrapeSense-main\\middleware.ts","messages":[],"suppressedMessages":[{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":13,"column":33,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":13,"endColumn":36,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[473,476],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[473,476],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}],"suppressions":[{"kind":"directive","justification":""}]}],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\DELL\\Desktop\\2343053\\ScrapeSense-main\\next.config.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\DELL\\Desktop\\2343053\\ScrapeSense-main\\postcss.config.mjs","messages":[],"suppressedMessages":[{"ruleId":"import/no-anonymous-default-export","severity":1,"message":"Assign object to a variable before exporting as module default","line":2,"column":1,"nodeType":"ExportDefaultDeclaration","endLine":7,"endColumn":3,"suppressions":[{"kind":"directive","justification":""}]}],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\DELL\\Desktop\\2343053\\ScrapeSense-main\\scripts\\backfill-schemas.ts","messages":[],"suppressedMessages":[{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":11,"column":100,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":11,"endColumn":103,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[484,487],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[484,487],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}],"suppressions":[{"kind":"directive","justification":""}]}],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\DELL\\Desktop\\2343053\\ScrapeSense-main\\scripts\\cron-scraper.ts","messages":[],"suppressedMessages":[{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":27,"column":96,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":27,"endColumn":99,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[1027,1030],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[1027,1030],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}],"suppressions":[{"kind":"directive","justification":""}]}],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\DELL\\Desktop\\2343053\\ScrapeSense-main\\scripts\\debug-scrape.ts","messages":[],"suppressedMessages":[{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":10,"column":67,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":10,"endColumn":70,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[410,413],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[410,413],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}],"suppressions":[{"kind":"directive","justification":""}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":19,"column":81,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":19,"endColumn":84,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[693,696],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[693,696],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}],"suppressions":[{"kind":"directive","justification":""}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":44,"column":25,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":44,"endColumn":28,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[1840,1843],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[1840,1843],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}],"suppressions":[{"kind":"directive","justification":""}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":57,"column":81,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":57,"endColumn":84,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[2183,2186],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[2183,2186],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}],"suppressions":[{"kind":"directive","justification":""}]}],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\DELL\\Desktop\\2343053\\ScrapeSense-main\\scripts\\ensure-playwright.js","messages":[],"suppressedMessages":[{"ruleId":"@typescript-eslint/no-require-imports","severity":2,"message":"A `require()` style import is forbidden.","line":8,"column":22,"nodeType":"CallExpression","messageId":"noRequireImports","endLine":8,"endColumn":46,"suppressions":[{"kind":"directive","justification":""}]},{"ruleId":"@typescript-eslint/no-require-imports","severity":2,"message":"A `require()` style import is forbidden.","line":9,"column":14,"nodeType":"CallExpression","messageId":"noRequireImports","endLine":9,"endColumn":29,"suppressions":[{"kind":"directive","justification":""}]},{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'fs' is assigned a value but never used.","line":10,"column":7,"nodeType":null,"messageId":"unusedVar","endLine":10,"endColumn":9,"suppressions":[{"kind":"directive","justification":""}]},{"ruleId":"@typescript-eslint/no-require-imports","severity":2,"message":"A `require()` style import is forbidden.","line":10,"column":12,"nodeType":"CallExpression","messageId":"noRequireImports","endLine":10,"endColumn":25,"suppressions":[{"kind":"directive","justification":""}]},{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'playwrightPath' is assigned a value but never used.","line":26,"column":9,"nodeType":null,"messageId":"unusedVar","endLine":26,"endColumn":23,"suppressions":[{"kind":"directive","justification":""}]}],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\DELL\\Desktop\\2343053\\ScrapeSense-main\\scripts\\fix-product-hunt-schema.ts","messages":[],"suppressedMessages":[{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":11,"column":100,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":11,"endColumn":103,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[408,411],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[408,411],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}],"suppressions":[{"kind":"directive","justification":""}]}],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\DELL\\Desktop\\2343053\\ScrapeSense-main\\scripts\\force-scrape.ts","messages":[],"suppressedMessages":[{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":12,"column":67,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":12,"endColumn":70,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[481,484],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[481,484],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}],"suppressions":[{"kind":"directive","justification":""}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":21,"column":102,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":21,"endColumn":105,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[753,756],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[753,756],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}],"suppressions":[{"kind":"directive","justification":""}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":24,"column":84,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":24,"endColumn":87,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[886,889],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[886,889],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}],"suppressions":[{"kind":"directive","justification":""}]}],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\DELL\\Desktop\\2343053\\ScrapeSense-main\\scripts\\inspect-html.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\DELL\\Desktop\\2343053\\ScrapeSense-main\\scripts\\inspect-section.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\DELL\\Desktop\\2343053\\ScrapeSense-main\\scripts\\scrape-all.ts","messages":[],"suppressedMessages":[{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":28,"column":100,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":28,"endColumn":103,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[1005,1008],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[1005,1008],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}],"suppressions":[{"kind":"directive","justification":""}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":39,"column":90,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":39,"endColumn":93,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[1436,1439],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[1436,1439],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}],"suppressions":[{"kind":"directive","justification":""}]}],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\DELL\\Desktop\\2343053\\ScrapeSense-main\\scripts\\start-server.js","messages":[{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'path' is assigned a value but never used.","line":9,"column":7,"nodeType":null,"messageId":"unusedVar","endLine":9,"endColumn":11}],"suppressedMessages":[{"ruleId":"@typescript-eslint/no-require-imports","severity":2,"message":"A `require()` style import is forbidden.","line":8,"column":19,"nodeType":"CallExpression","messageId":"noRequireImports","endLine":8,"endColumn":43,"suppressions":[{"kind":"directive","justification":""}]},{"ruleId":"@typescript-eslint/no-require-imports","severity":2,"message":"A `require()` style import is forbidden.","line":9,"column":14,"nodeType":"CallExpression","messageId":"noRequireImports","endLine":9,"endColumn":29,"suppressions":[{"kind":"directive","justification":""}]}],"errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"#!/usr/bin/env node\n/* eslint-disable @typescript-eslint/no-require-imports */\n\n/**\n * Start server with Playwright check\n */\n\nconst { spawn } = require('child_process');\nconst path = require('path');\n\nconsole.log(' Starting ScrapeSense server...');\n\n// Check and install Playwright browsers\ntry {\n  console.log(' Checking Playwright browsers...');\n  execSync('npx playwright install chromium', {\n    stdio: 'inherit',\n    env: {\n      ...process.env,\n      PLAYWRIGHT_SKIP_BROWSER_DOWNLOAD: '0',\n    },\n  });\n  console.log(' Playwright browsers ready');\n} catch (error) {\n  console.error('  Playwright installation warning:', error.message);\n  // Continue anyway - might already be installed\n}\n\n// Start Next.js server\nconsole.log(' Starting Next.js...');\nconst nextServer = spawn('npm', ['start'], {\n  stdio: 'inherit',\n  shell: true,\n});\n\nnextServer.on('error', (error) => {\n  console.error(' Failed to start server:', error);\n  process.exit(1);\n});\n\nnextServer.on('exit', (code) => {\n  process.exit(code || 0);\n});\n\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\DELL\\Desktop\\2343053\\ScrapeSense-main\\scripts\\test-correct-selectors.ts","messages":[],"suppressedMessages":[{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":27,"column":64,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":27,"endColumn":67,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[937,940],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[937,940],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}],"suppressions":[{"kind":"directive","justification":""}]}],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\DELL\\Desktop\\2343053\\ScrapeSense-main\\scripts\\test-schema-generation.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\DELL\\Desktop\\2343053\\ScrapeSense-main\\scripts\\test-selectors.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\DELL\\Desktop\\2343053\\ScrapeSense-main\\scripts\\verify-results.ts","messages":[],"suppressedMessages":[{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":9,"column":79,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":9,"endColumn":82,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[375,378],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[375,378],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}],"suppressions":[{"kind":"directive","justification":""}]}],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\DELL\\Desktop\\2343053\\ScrapeSense-main\\tailwind.config.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\DELL\\Desktop\\2343053\\ScrapeSense-main\\types\\next-auth.d.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\DELL\\Desktop\\2343053\\ScrapeSense-main\\verify-login-config.js","messages":[],"suppressedMessages":[{"ruleId":"@typescript-eslint/no-require-imports","severity":2,"message":"A `require()` style import is forbidden.","line":8,"column":12,"nodeType":"CallExpression","messageId":"noRequireImports","endLine":8,"endColumn":25,"suppressions":[{"kind":"directive","justification":""}]},{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'err' is defined but never used.","line":26,"column":10,"nodeType":null,"messageId":"unusedVar","endLine":26,"endColumn":13,"suppressions":[{"kind":"directive","justification":""}]},{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'err' is defined but never used.","line":44,"column":10,"nodeType":null,"messageId":"unusedVar","endLine":44,"endColumn":13,"suppressions":[{"kind":"directive","justification":""}]},{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'err' is defined but never used.","line":77,"column":10,"nodeType":null,"messageId":"unusedVar","endLine":77,"endColumn":13,"suppressions":[{"kind":"directive","justification":""}]},{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'err' is defined but never used.","line":94,"column":10,"nodeType":null,"messageId":"unusedVar","endLine":94,"endColumn":13,"suppressions":[{"kind":"directive","justification":""}]},{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'err' is defined but never used.","line":110,"column":10,"nodeType":null,"messageId":"unusedVar","endLine":110,"endColumn":13,"suppressions":[{"kind":"directive","justification":""}]}],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]}]